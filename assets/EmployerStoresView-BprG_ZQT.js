import{d as j,r as b,L as G,Y as I,w as H,a7 as R,b as t,a as u,e as i,I as A,t as r,f as E,F as S,T as F,n as T,g as U,B as M,P as W,o as d,_ as N,c as z}from"./index-K-9wvg5E.js";import{G as Y,E as J}from"./GenericDetailsDialog-DWDggG0Y.js";import{F as K}from"./FilterHeader-DFU8H3xr.js";import{S as O}from"./StatsBlock-1xU_yBDO.js";/* empty css              */import"./index-R9REr-6p.js";import{F as Q}from"./index-C6rNtyvH.js";import{P as X}from"./index-Bj_5OvyO.js";import"./index-BmPhYbYV.js";import"./index-B44WjXQ1.js";const Z={class:"dialog-title"},ee={class:"dialog-title-text"},te={class:"edit-store-dialog__content"},se={class:"edit-store-dialog__form"},ae={class:"edit-store-dialog__form-grid"},oe={class:"edit-store-dialog__label"},le={class:"edit-store-dialog__label"},ne={class:"edit-store-dialog__label"},ie={class:"edit-store-dialog__actions"},re=j({__name:"EditStoreDialog",props:{show:{type:Boolean},mode:{default:"edit"},storeData:{default:()=>({name:"",address:"",contactPerson:"",phone:"",capacity:0,email:"",operatingHours:"",facilities:"",remarks:"",status:"operating"})}},emits:["update:show","update","cancel"],setup(o,{emit:_}){const n=o,p=_,c=b({fields:[{key:"name",label:"ÊìöÈªûÂêçÁ®±",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÊìöÈªûÂêçÁ®±",width:"full"},{key:"city",label:"ÂüéÂ∏Ç",type:"select",placeholder:"Ë´ãÈÅ∏ÊìáÂüéÂ∏Ç",width:"half",options:[{text:"Âè∞ÂåóÂ∏Ç",value:"taipei"},{text:"Êñ∞ÂåóÂ∏Ç",value:"newtaipei"},{text:"Ê°ÉÂúíÂ∏Ç",value:"taoyuan"},{text:"Âè∞‰∏≠Â∏Ç",value:"taichung"},{text:"Âè∞ÂçóÂ∏Ç",value:"tainan"},{text:"È´òÈõÑÂ∏Ç",value:"kaohsiung"}]},{key:"district",label:"Ë°åÊîøÂçÄ",type:"select",placeholder:"Ë´ãÈÅ∏ÊìáË°åÊîøÂçÄ",width:"half",options:[{text:"‰ø°Áæ©ÂçÄ",value:"xinyi"},{text:"ÊùøÊ©ãÂçÄ",value:"banqiao"},{text:"‰∏≠Â£¢ÂçÄ",value:"zhongli"},{text:"Ë•øÂçÄ",value:"west"},{text:"Êù±ÂçÄ",value:"east"},{text:"ÂâçÈáëÂçÄ",value:"qianjin"}]},{key:"address",label:"Âú∞ÂùÄ",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÂÆåÊï¥Âú∞ÂùÄ",width:"full"},{key:"contactPerson",label:"Ë≤†Ë≤¨‰∫∫",type:"text",placeholder:"Ë´ãËº∏ÂÖ•Ë≤†Ë≤¨‰∫∫ÂßìÂêç",width:"full"},{key:"phone",label:"ÈõªË©±",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÈõªË©±ËôüÁ¢º",width:"half"},{key:"capacity",label:"ÂÆπÁ¥ç‰∫∫Êï∏",type:"number",placeholder:"Ë´ãËº∏ÂÖ•ÂÆπÁ¥ç‰∫∫Êï∏",min:1,step:1,width:"half"},{key:"email",label:"‰ø°ÁÆ±",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÈõªÂ≠ê‰ø°ÁÆ±",width:"full"},{key:"operatingHours",label:"ÁáüÊ•≠ÊôÇÈñì",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÁáüÊ•≠ÊôÇÈñì",width:"full"},{key:"facilities",label:"Êèê‰æõË®≠ÊñΩ",type:"text",placeholder:"Ë´ãËº∏ÂÖ•Êèê‰æõË®≠ÊñΩ",width:"full"},{key:"remarks",label:"ÂÇôË®ª",type:"text",placeholder:"Ë´ãËº∏ÂÖ•ÂÇôË®ª",width:"full"}],values:{}}),y=b({}),k=b({});G([()=>n.storeData,()=>n.mode],([e,l])=>{l==="add"?c.value.values={name:"",city:"taipei",district:"xinyi",address:"",contactPerson:"",phone:"",capacity:0,email:"",operatingHours:"",facilities:"",remarks:""}:e&&(c.value.values={name:e.name||"",city:"taipei",district:"xinyi",address:e.address||"",contactPerson:e.contactPerson||"",phone:e.phone||"",capacity:e.capacity||0,email:e.email||"",operatingHours:e.operatingHours||"",facilities:e.facilities||"",remarks:e.remarks||""})},{immediate:!0,deep:!0});const f=(e,l)=>{if(!l&&l!==0)return e.placeholder||e.label;if(e.type==="select"){const a=e.options?.find(m=>m.value===l);return a?a.text:e.placeholder||e.label}return l.toString()},v=e=>{const l=c.value.fields.find(a=>a.key===e);if(l){if(l.type==="select"){const a=c.value.values[e];k.value[e]=[a||l.options?.[0]?.value||""]}y.value[e]=!0}},D=e=>{y.value[e]=!1},P=e=>{const l=k.value[e.key];x(e,l[0]||""),D(e.key)},x=(e,l)=>{c.value.values[e.key]=l},C=()=>{p("update:show",!1)},g=()=>{p("cancel"),C()},h=()=>{c.value&&c.value.values&&(p("update",c.value.values),C())};return(e,l)=>{const a=A,m=Q,V=M,B=X,$=W,q=R;return d(),I(q,{show:o.show,"show-cancel-button":!1,"show-confirm-button":!1,class:"edit-store-dialog",onClose:C,"onUpdate:show":l[1]||(l[1]=s=>p("update:show",s))},{default:H(()=>[t("div",Z,[i(a,{name:"notes-o",size:"16",color:"black"}),t("h3",ee,r(o.mode==="add"?"Êñ∞Â¢ûÊìöÈªû":"Á∑®ËºØÊìöÈªû"),1),t("div",{class:"close-button",onClick:l[0]||(l[0]=s=>e.$emit("update:show",!1))},[i(a,{name:"close",size:"16",color:"black"})])]),t("div",te,[t("div",se,[t("div",ae,[(d(!0),u(S,null,E(c.value.fields,s=>(d(),u(S,{key:s.key},[s.type==="text"?(d(),u("div",{key:0,class:T(["edit-store-dialog__form-item",`edit-store-dialog__form-item--${s.width||"half"}`])},[t("label",oe,r(s.label),1),i(m,{"model-value":c.value.values[s.key],type:"text",placeholder:s.placeholder||s.label,"onUpdate:modelValue":w=>x(s,w),class:"edit-store-dialog__text-input"},null,8,["model-value","placeholder","onUpdate:modelValue"])],2)):s.type==="number"?(d(),u("div",{key:1,class:T(["edit-store-dialog__form-item",`edit-store-dialog__form-item--${s.width||"half"}`])},[t("label",le,r(s.label),1),i(m,{"model-value":c.value.values[s.key],type:"number",placeholder:s.placeholder||s.label,min:s.min,max:s.max,step:s.step,"onUpdate:modelValue":w=>x(s,w),class:"edit-store-dialog__number-input"},null,8,["model-value","placeholder","min","max","step","onUpdate:modelValue"])],2)):s.type==="select"?(d(),u("div",{key:2,class:T(["edit-store-dialog__form-item",`edit-store-dialog__form-item--${s.width||"half"}`])},[t("label",ne,r(s.label),1),i(m,{"model-value":f(s,c.value.values[s.key]),placeholder:s.placeholder||s.label,readonly:"",onClick:w=>v(s.key),class:"edit-store-dialog__select-input"},null,8,["model-value","placeholder","onClick"])],2)):F("",!0)],64))),128))])]),t("div",ie,[i(V,{type:"primary",size:"small",class:"edit-store-dialog__update-btn",onClick:h},{default:H(()=>[U(r(o.mode==="add"?"Êñ∞Â¢û":"Êõ¥Êñ∞"),1)]),_:1}),i(V,{type:"default",size:"small",class:"edit-store-dialog__cancel-btn",onClick:g},{default:H(()=>[...l[2]||(l[2]=[U(" ÂèñÊ∂à ",-1)])]),_:1})])]),(d(!0),u(S,null,E(c.value.fields,s=>(d(),u(S,{key:`picker-${s.key}`},[s.type==="select"?(d(),I($,{key:0,show:y.value[s.key],"onUpdate:show":w=>y.value[s.key]=w,position:"bottom","destroy-on-close":"",round:""},{default:H(()=>[i(B,{modelValue:k.value[s.key],"onUpdate:modelValue":w=>k.value[s.key]=w,columns:s.options||[],onConfirm:()=>P(s),onCancel:()=>D(s.key)},null,8,["modelValue","onUpdate:modelValue","columns","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):F("",!0)],64))),128))]),_:1},8,["show"])}}}),L=N(re,[["__scopeId","data-v-ca31c2b8"]]),de={class:"store-card"},ce={class:"store-card__header"},ue={class:"store-card__title-section"},me={class:"store-card__name"},_e={class:"store-card__id"},pe={class:"store-card__contact"},ve={class:"store-card__contact-item"},he={class:"store-card__contact-item"},ye={class:"store-card__contact-item"},ge={class:"store-card__stats"},be={class:"store-card__stat-item"},ke={class:"store-card__stat-number store-card__stat-number--blue"},fe={class:"store-card__stat-item"},we={class:"store-card__stat-number store-card__stat-number--green"},xe={class:"store-card__stat-item"},Ce={class:"store-card__stat-number store-card__stat-number--orange"},Se={class:"store-card__facilities"},De={class:"store-card__facilities-tags"},$e={class:"store-card__hours"},Pe={class:"store-card__hours-content"},Ue={class:"store-card__remarks"},Ve={class:"store-card__remarks-content"},He={class:"store-card__footer"},Te={class:"store-card__establishment-date"},Ee={class:"store-card__actions"},Fe=j({__name:"StoreCard",props:{store:{},showDetails:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!0}},emits:["viewDetails","edit","update"],setup(o,{emit:_}){const n=o,p=_,c=z(()=>{const h={operating:{text:"ÁáüÈÅã‰∏≠",class:"status-operating"},maintenance:{text:"Á∂≠Ë≠∑‰∏≠",class:"status-maintenance"},closed:{text:"Â∑≤ÈóúÈñâ",class:"status-closed"}};return h[n.store.status]||h.operating}),y=z(()=>new Date(n.store.establishmentDate).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"})),k=z(()=>[{title:"Âü∫Êú¨Ë≥áË®ä",icon:"üè¢",items:[{label:"ÊìöÈªûÂêçÁ®±",value:n.store.name},{label:"ÊìöÈªûÁ∑®Ëôü",value:`#${n.store.id}`},{label:"Âú∞ÂùÄ",value:n.store.address},{label:"ÊàêÁ´ãÊó•Êúü",value:y.value}]},{title:"ËÅØÁµ°Ë≥áË®ä",icon:"üìû",items:[{label:"Ë≤†Ë≤¨‰∫∫",value:n.store.contactPerson},{label:"Âì°Â∑•Êï∏",value:`${n.store.employeeCount}‰∫∫`},{label:"ÈõªË©±",value:n.store.phone}]},{title:"ÁáüÈÅãÁµ±Ë®à",icon:"üìä",items:[{label:"ÂÆπÁ¥ç‰∫∫Êï∏",value:`${n.store.capacity}‰∫∫`,valueClass:"info-value--blue"},{label:"Á∏ΩÁè≠Âà•Êï∏",value:`${n.store.totalShifts}`,valueClass:"info-value--green"},{label:"ÈÄ≤Ë°å‰∏≠",value:`${n.store.inProgress}`,valueClass:"info-value--orange"}]},{title:"Ë®≠ÊñΩË≥áË®ä",icon:"üé∞",items:[{label:"Êèê‰æõË®≠ÊñΩ",value:n.store.facilities.join(", ")},{label:"ÁáüÊ•≠ÊôÇÈñì",value:n.store.operatingHours}]},{title:"ÂÇôË®ªË≥áË®ä",icon:"üìù",items:[{label:"ÂÇôË®ª",value:n.store.remarks}]}]),f=b(!1),v=b(!1),D=()=>{f.value=!0,p("viewDetails",n.store)},P=()=>{v.value=!0,p("edit",n.store)},x=()=>{f.value=!1},C=()=>{v.value=!1},g=h=>{p("update",h),v.value=!1};return(h,e)=>{const l=A;return d(),u(S,null,[t("div",de,[t("div",ce,[t("div",ue,[t("div",me,r(o.store.name),1),t("div",_e,"#"+r(o.store.id),1)]),t("div",{class:T(["store-card__status",c.value.class])},r(c.value.text),3)]),t("div",pe,[t("div",ve,[i(l,{name:"location-o",class:"store-card__icon"}),t("span",null,r(o.store.address),1)]),t("div",he,[i(l,{name:"contact",class:"store-card__icon"}),t("span",null,"Ë≤†Ë≤¨‰∫∫:"+r(o.store.contactPerson)+"„ÉªÂì°Â∑•:"+r(o.store.employeeCount)+"‰∫∫",1)]),t("div",ye,[i(l,{name:"phone-o",class:"store-card__icon"}),t("span",null,r(o.store.phone),1)])]),t("div",ge,[t("div",be,[t("div",ke,r(o.store.capacity),1),e[2]||(e[2]=t("div",{class:"store-card__stat-label"},"ÂÆπÁ¥ç‰∫∫Êï∏",-1))]),t("div",fe,[t("div",we,r(o.store.totalShifts),1),e[3]||(e[3]=t("div",{class:"store-card__stat-label"},"Á∏ΩÁè≠Âà•Êï∏",-1))]),t("div",xe,[t("div",Ce,r(o.store.inProgress),1),e[4]||(e[4]=t("div",{class:"store-card__stat-label"},"ÈÄ≤Ë°å‰∏≠",-1))])]),t("div",Se,[e[5]||(e[5]=t("div",{class:"store-card__facilities-title"},"Êèê‰æõË®≠ÊñΩ:",-1)),t("div",De,[(d(!0),u(S,null,E(o.store.facilities,a=>(d(),u("span",{key:a,class:"store-card__facility-tag"},r(a),1))),128))])]),t("div",$e,[e[6]||(e[6]=t("div",{class:"store-card__hours-title"},"ÁáüÊ•≠ÊôÇÈñì:",-1)),t("div",Pe,r(o.store.operatingHours),1)]),t("div",Ue,[e[7]||(e[7]=t("div",{class:"store-card__remarks-title"},"ÂÇôË®ª:",-1)),t("div",Ve,r(o.store.remarks),1)]),e[10]||(e[10]=t("div",{class:"store-card__divider"},null,-1)),t("div",He,[t("div",Te,"ÊàêÁ´ã:"+r(y.value),1),t("div",Ee,[o.showEdit?(d(),u("button",{key:0,class:"store-card__edit-btn",onClick:P},[i(l,{name:"edit",class:"store-card__btn-icon"}),e[8]||(e[8]=U(" Á∑®ËºØ ",-1))])):F("",!0),o.showDetails?(d(),u("button",{key:1,class:"store-card__details-btn",onClick:D},[i(l,{name:"eye-o",class:"store-card__btn-icon"}),e[9]||(e[9]=U(" Ë©≥Á¥∞ ",-1))])):F("",!0)])])]),i(Y,{show:f.value,"onUpdate:show":e[0]||(e[0]=a=>f.value=a),title:"ÊìöÈªûË©≥Á¥∞Ë≥áÊñô",sections:k.value,onClose:x},null,8,["show","sections"]),i(L,{show:v.value,"onUpdate:show":e[1]||(e[1]=a=>v.value=a),mode:"edit","store-data":{name:o.store.name,address:o.store.address,contactPerson:o.store.contactPerson,phone:o.store.phone,capacity:o.store.capacity,email:o.store.email||"",operatingHours:o.store.operatingHours,facilities:o.store.facilities.join(", "),remarks:o.store.remarks,status:o.store.status},onUpdate:g,onClose:C},null,8,["show","store-data"])],64)}}}),Be=N(Fe,[["__scopeId","data-v-e47dc894"]]),ze={class:"user-timesheets"},Ie={class:"employer-statistics__stats-section"},je={class:"user-timesheets__content"},Ae={key:0,class:"user-timesheets__list"},Ne={key:1,class:"user-timesheets__empty"},Le=j({name:"UserTimesheetsView",__name:"EmployerStoresView",setup(o){const _=b({fields:[{type:"search",key:"search",label:"ÊêúÂ∞ã",placeholder:"ÊêúÂ∞ãÂïÜÂÆ∂„ÄÅËÅ∑‰ΩçÊàñÊôÇÊï∏Á∑®Ëôü",width:"full"},{type:"select",key:"status",label:"ÁãÄÊÖã",placeholder:"ÈÅ∏ÊìáÁãÄÊÖã",width:"half",options:[{text:"ÂÖ®ÈÉ®ÁãÄÊÖã",value:"all"},{text:"ÂæÖÂØ©Ê†∏",value:"pending"},{text:"Â∑≤Á¢∫Ë™ç",value:"approved"},{text:"Â∑≤Ë™øÊï¥",value:"adjusted"}]},{type:"select",key:"employer",label:"ÂïÜÂÆ∂",placeholder:"ÈÅ∏ÊìáÂïÜÂÆ∂",width:"half",options:[{text:"ÂÖ®ÈÉ®ÂïÜÂÆ∂",value:"all"},{text:"Ë±™ËèØË≥≠Â†¥",value:"casino1"},{text:"ÊòüÂÖâÂ®õÊ®ÇÂüé",value:"casino2"},{text:"ÈáëÊ≤ôÊúÉÈ§®",value:"casino3"}]},{type:"date",key:"startDate",label:"ÈñãÂßãÊó•Êúü",placeholder:"ÈÅ∏ÊìáÈñãÂßãÊó•Êúü",width:"half"},{type:"date",key:"endDate",label:"ÁµêÊùüÊó•Êúü",placeholder:"ÈÅ∏ÊìáÁµêÊùüÊó•Êúü",width:"half"},{type:"select",key:"sortBy",label:"ÊéíÂ∫è",placeholder:"ÈÅ∏ÊìáÊéíÂ∫èÊñπÂºè",width:"half",options:[{text:"ÊúÄÊñ∞Âà∞ÊúÄËàä",value:"newest"},{text:"ÊúÄËàäÂà∞ÊúÄÊñ∞",value:"oldest"},{text:"Â∑•‰ΩúÊó•ÊúüÊó©Âà∞Êôö",value:"date_early"},{text:"Â∑•‰ΩúÊó•ÊúüÊôöÂà∞Êó©",value:"date_late"}]},{type:"number",key:"pageSize",label:"ÊØèÈ†ÅÁ≠ÜÊï∏",placeholder:"Ëº∏ÂÖ•ÊØèÈ†ÅÁ≠ÜÊï∏",width:"half",min:5,max:100,step:5},{type:"text",key:"position",label:"ËÅ∑‰Ωç",placeholder:"Ëº∏ÂÖ•ËÅ∑‰ΩçÈóúÈçµÂ≠ó",width:"full"}],values:{search:"",status:"all",employer:"all",startDate:"",endDate:"",sortBy:"newest",pageSize:10,position:""}}),n=(a,m)=>{_.value={..._.value,values:{..._.value.values,[a]:m}}},p=a=>{console.log("ÊêúÂ∞ã:",a),_.value.values.search=a},c=()=>{console.log("ÂàáÊèõÁØ©ÈÅ∏ÈÅ∏ÂñÆ")},y=()=>{console.log("ÈáçÁΩÆÁØ©ÈÅ∏"),_.value.values={search:"",status:"all",employer:"all",startDate:"",endDate:"",sortBy:"newest",pageSize:10,position:""}},k=b([{id:"total-shifts",value:5,label:"Á∏ΩÊåØÈªûÊï∏",color:"blue"},{id:"operating",value:3,label:"ÁáüÈÅã‰∏≠",color:"green"},{id:"operating",value:10,label:"ÊàêÂäüÈåÑÂèñ",color:"green"}]),f=a=>{console.log("ÈªûÊìäÁµ±Ë®àÈ†ÖÁõÆ:",a)},v=b([{id:"TS20240913",date:"2024-09-13",startTime:"20:00",endTime:"02:00",breakDuration:0,location:"Âè∞Âåó‰∏≠Â±±Â∫ó",address:"Âè∞ÂåóÂ∏Ç‰∏≠Â±±ÂçÄ",shiftId:"SH001",workingHours:6,status:"pending"},{id:"TS20240912",date:"2024-09-12",startTime:"14:00",endTime:"22:00",breakDuration:60,location:"Âè∞Âåó‰ø°Áæ©Â∫ó",address:"Âè∞ÂåóÂ∏Ç‰ø°Áæ©ÂçÄ",shiftId:"SH002",workingHours:7,status:"approved"},{id:"TS20240911",date:"2024-09-11",startTime:"10:00",endTime:"18:00",breakDuration:60,location:"Âè∞ÂåóË•øÈñÄÂ∫ó",address:"Âè∞ÂåóÂ∏ÇËê¨ËèØÂçÄ",shiftId:"SH003",workingHours:7,status:"adjusted",adjustedHours:6.5}]),D=a=>{console.log("Êü•ÁúãË©≥Á¥∞:",a)},P=a=>{console.log("Á∑®ËºØ:",a)},x=a=>{console.log("Êõ¥Êñ∞ÊìöÈªûË≥áÊñô:",a)},C=a=>({id:a.id,name:`${a.location}Â∫ó`,address:a.address,contactPerson:"Â∫óÈï∑",employeeCount:15,phone:"02-1234-5678",capacity:100,totalShifts:25,inProgress:3,facilities:["ÁôæÂÆ∂Ê®Ç","Ëº™Áõ§"],operatingHours:"14:00-02:00",remarks:"Ê≠£Â∏∏ÁáüÈÅã‰∏≠",establishmentDate:"2023-01-01",status:"operating",email:"store@example.com"}),g=b(!1),h=()=>{console.log("Êñ∞Â¢ûÊìöÈªû"),g.value=!0},e=a=>{console.log("Êñ∞Â¢ûÊìöÈªûË≥áÊñô:",a),g.value=!1},l=()=>{g.value=!1};return(a,m)=>{const V=A,B=J;return d(),u("div",ze,[i(K,{title:"ÂØ¶Èöõ‰∏äÁè≠ÊôÇÊï∏","filter-config":_.value,sticky:!0,onUpdateFilter:n,onSearch:p,onToggleFilter:c,onReset:y},null,8,["filter-config"]),t("button",{class:"add-store-btn",onClick:h},[i(V,{name:"plus",class:"add-store-btn__icon"}),m[1]||(m[1]=U(" Êñ∞Â¢û ",-1))]),t("div",Ie,[i(O,{data:k.value,onItemClick:f},null,8,["data"])]),t("div",je,[v.value.length>0?(d(),u("div",Ae,[(d(!0),u(S,null,E(v.value,$=>(d(),I(Be,{key:$.id,store:C($),onViewDetails:D,onEdit:P,onUpdate:x},null,8,["store"]))),128))])):(d(),u("div",Ne,[i(B,{description:"Êö´ÁÑ°ÊôÇÊï∏Ë®òÈåÑ"})]))]),i(L,{show:g.value,"onUpdate:show":m[0]||(m[0]=$=>g.value=$),mode:"add",onUpdate:e,onClose:l},null,8,["show"])])}}}),Xe=N(Le,[["__scopeId","data-v-fef80066"]]);export{Xe as default};
