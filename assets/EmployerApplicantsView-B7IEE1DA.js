import{A}from"./ApplicantCard-DYc4Sq6x.js";import{F as D}from"./FilterHeader-DFU8H3xr.js";import{u as S}from"./useDialog-BO8MixjU.js";import{d as V,r as o,c as B,U as E,a as c,e as N,b as u,F as v,f as h,n as R,g as U,T as $,t as f,Y as z,o as s,_ as H}from"./index-K-9wvg5E.js";import"./index-R9REr-6p.js";import"./index-C6rNtyvH.js";import"./index-BmPhYbYV.js";import"./index-B44WjXQ1.js";import"./index-Bj_5OvyO.js";const I={class:"employer-applicants"},L={class:"content-container"},M={class:"status-filter-buttons"},O=["onClick"],Y={key:0,class:"count-badge"},q={class:"applicants-list"},G=V({name:"EmployerApplicantsView",__name:"EmployerApplicantsView",setup(J){const{showConfirm:g,showSuccess:m,showDangerConfirm:_}=S(),a=o([{id:"1",name:"張小明",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:3,rating:4.8,skills:["百家樂","21點","輪盤"],phone:"0912-345-678",email:"ming@example.com",applicationTime:"2024-09-10 15:30",status:"pending"},{id:"2",name:"李美華",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:5,rating:4.9,skills:["百家樂","德州撲克"],phone:"0987-654-321",email:"hua@example.com",applicationTime:"2024-09-10 16:45",status:"accepted"},{id:"3",name:"王大偉",position:"發牌員",shiftDate:"2024-09-16",startTime:"14:00",endTime:"22:00",experience:2,rating:4.5,skills:["21點","輪盤"],phone:"0923-456-789",email:"david@example.com",applicationTime:"2024-09-11 09:20",status:"rejected"},{id:"4",name:"陳小芳",position:"百家樂荷官",shiftDate:"2024-09-15",startTime:"20:00",endTime:"02:00",experience:4,rating:4.7,skills:["百家樂","輪盤"],phone:"0955-123-456",email:"fang@example.com",applicationTime:"2024-09-09 14:15",status:"pending"}]),n=o("all"),b=o([{label:"全部",value:"all"},{label:"待審",value:"pending"},{label:"已錄取",value:"accepted"},{label:"已拒絕",value:"rejected"}]),p=o({all:0,pending:0,accepted:0,rejected:0}),i=o({fields:[{type:"search",key:"search",label:"搜尋",placeholder:"搜尋職位/商家",width:"full"},{type:"select",key:"status",label:"狀態",placeholder:"選擇狀態",width:"half",options:[{text:"全部狀態",value:"all"},{text:"尚有缺額",value:"available"},{text:"暫無缺額",value:"unavailable"}]},{type:"select",key:"position",label:"職位",placeholder:"選擇職位",width:"half",options:[{text:"全部職位",value:"all"},{text:"發牌員",value:"dealer"},{text:"百家樂荷官",value:"baccarat"},{text:"桌邊荷官",value:"table"}]},{type:"date",key:"date",label:"工作日期",placeholder:"選擇日期",width:"half"},{type:"select",key:"sortBy",label:"排序",placeholder:"選擇排序方式",width:"half",options:[{text:"最新到最舊",value:"newest"},{text:"最舊到最新",value:"oldest"},{text:"時薪高到低",value:"wage_high"},{text:"時薪低到高",value:"wage_low"}]}],values:{search:"",status:"all",position:"all",date:"",sortBy:"newest"}}),d=()=>{const e={all:a.value.length,pending:0,accepted:0,rejected:0};a.value.forEach(l=>{switch(l.status){case"pending":e.pending++;break;case"accepted":e.accepted++;break;case"rejected":e.rejected++;break}}),p.value=e},x=e=>{n.value=e},y=B(()=>n.value==="all"?a.value:a.value.filter(e=>e.status===n.value)),w=(e,l)=>{i.value={...i.value,values:{...i.value.values,[e]:l}}},k=e=>{console.log("搜尋:",e)},T=()=>{console.log("切換篩選選單")},C=()=>{i.value.values={search:"",status:"all"},n.value="all"},j=async e=>{if(await g({title:"確認錄取",message:"確定要錄取此應徵者嗎？"})){const t=a.value.find(r=>r.id===e);t&&(t.status="accepted",await m("已錄取應徵者"),d())}},F=async e=>{if(await _("確定要拒絕此應徵者嗎？","確認拒絕")){const t=a.value.find(r=>r.id===e);t&&(t.status="rejected",await m("已拒絕應徵者"),d())}};return E(()=>{d()}),(e,l)=>(s(),c("div",I,[N(D,{title:"應徵名單","filter-config":i.value,sticky:!0,"show-title":!1,onUpdateFilter:w,onSearch:k,onToggleFilter:T,onReset:C},null,8,["filter-config"]),u("div",L,[u("div",M,[(s(!0),c(v,null,h(b.value,t=>(s(),c("button",{key:t.value,onClick:r=>x(t.value),class:R([{active:n.value===t.value,[`status-btn--${t.value}`]:!0},"status-btn"])},[U(f(t.label)+" ",1),p.value[t.value]>0?(s(),c("span",Y," ("+f(p.value[t.value])+") ",1)):$("",!0)],10,O))),128))]),u("div",q,[(s(!0),c(v,null,h(y.value,t=>(s(),z(A,{key:t.id,applicant:t,onAccept:j,onReject:F},null,8,["applicant"]))),128))])])]))}}),le=H(G,[["__scopeId","data-v-837e04af"]]);export{le as default};
