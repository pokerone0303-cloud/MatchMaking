import{d as V,g as S,l as u,q as t,C as e,e as r,I as B,G as d,_ as I,r as T,M as j,N as k,y as g,v as R,x as N,B as L,A as y,H,D as z}from"./index-D9wYTDFn.js";import{a as E,C as F}from"./index-C7c55p3W.js";import{T as M}from"./index-DnIS2vcM.js";const q={class:"profile-card"},G={class:"profile-card__user-info"},J={class:"profile-card__user-main"},K={class:"profile-card__avatar"},O={class:"profile-card__avatar-placeholder"},Q={class:"profile-card__user-details"},X={class:"profile-card__name"},Y={class:"profile-card__rating"},Z={class:"profile-card__rating-text"},tt={class:"profile-card__contact"},et={class:"profile-card__contact-text"},st={class:"profile-card__contact"},at={class:"profile-card__contact-text"},it={class:"profile-card__stats"},ot={class:"profile-card__stat-item"},nt={class:"profile-card__stat-number profile-card__stat-number--blue"},lt={class:"profile-card__stat-item"},ct={class:"profile-card__stat-number profile-card__stat-number--orange"},dt={class:"profile-card__stat-item"},rt={class:"profile-card__stat-number profile-card__stat-number--green"},_t=V({__name:"ProfileCard",props:{userProfile:{default:()=>({id:"",name:"",avatar:"",rating:0,phone:"",email:""})},userStats:{default:()=>({approvedThisMonth:0,pendingHours:0,totalHours:0})}},setup(_){const h=_,w=S(()=>{if(h.userProfile.phone.length>=10){const m=h.userProfile.phone.slice(0,4),n=h.userProfile.phone.slice(-3);return`${m}***${n}`}return h.userProfile.phone}),f=S(()=>{const[m,n]=h.userProfile.email.split("@");if(m.length>2){const p=m.slice(0,2);return m.slice(-1),`${p}***@${n}`}return h.userProfile.email});return(m,n)=>{const p=B;return d(),u("div",q,[t("div",G,[t("div",J,[t("div",K,[t("div",O,e(_.userProfile.name.charAt(0)),1)]),t("div",Q,[t("div",X,e(_.userProfile.name),1),t("div",Y,[r(p,{name:"star",class:"profile-card__rating-icon"}),t("span",Z,e(_.userProfile.rating)+"分",1)]),t("div",tt,[r(p,{name:"phone",class:"profile-card__contact-icon"}),t("span",et,e(w.value),1)]),t("div",st,[r(p,{name:"envelop",class:"profile-card__contact-icon"}),t("span",at,e(f.value),1)])])])]),n[3]||(n[3]=t("div",{class:"profile-card__divider"},null,-1)),t("div",it,[t("div",ot,[t("div",nt,e(_.userStats.approvedThisMonth),1),n[0]||(n[0]=t("div",{class:"profile-card__stat-label"},"本月已核准",-1))]),t("div",lt,[t("div",ct,e(_.userStats.pendingHours),1),n[1]||(n[1]=t("div",{class:"profile-card__stat-label"},"待審核時數",-1))]),t("div",dt,[t("div",rt,e(_.userStats.totalHours),1),n[2]||(n[2]=t("div",{class:"profile-card__stat-label"},"累積時數",-1))])])])}}}),pt=I(_t,[["__scopeId","data-v-a858ad75"]]),ut={class:"timesheet-list-card"},mt={class:"timesheet-list-card__header"},ht={class:"timesheet-list-card__title-section"},ft={class:"timesheet-list-card__list"},vt={class:"timesheet-card__content"},gt={class:"timesheet-card__header"},wt={class:"timesheet-card__datetime"},$t={class:"timesheet-card__date"},kt={class:"timesheet-card__time"},bt={key:0,class:"timesheet-card__break"},Tt={class:"timesheet-card__location"},yt={class:"timesheet-card__hours"},At={class:"timesheet-card__hours-value"},xt={key:0,class:"timesheet-card__adjusted-hours"},Ct={class:"timesheet-card__adjusted-value"},Ht={class:"timesheet-card__details-title"},Vt={class:"timesheet-card__collapse-content"},It={class:"timesheet-card__audit-section"},Dt={class:"timesheet-card__audit-content"},Pt=V({__name:"TimesheetListCard",props:{timesheetRecords:{default:()=>[]},showViewAll:{type:Boolean,default:!0}},emits:["viewAll","viewDetails"],setup(_,{emit:h}){const w=z(),f=T([]),m=c=>new Date(c).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),n=(c,s)=>`${c}-${s}`,p=c=>c===0?"":`(休息 ${c}m)`,$=c=>`${c}h`,b=c=>{const s={submitted:{text:"已提交",class:"timesheet-card__status--submitted"},approved:{text:"已核准",class:"timesheet-card__status--approved"},adjusted:{text:"已調整",class:"timesheet-card__status--adjusted"}};return s[c]||s.submitted},v=c=>f.value.includes(c),x=()=>{w.push("/u/timesheets")};return(c,s)=>{const A=B,D=L,P=M,l=E,o=F;return d(),u("div",ut,[t("div",mt,[t("div",ht,[r(A,{name:"clock-o",class:"timesheet-list-card__title-icon"}),s[1]||(s[1]=t("h3",{class:"timesheet-list-card__title"},"實際上班時數",-1))]),_.showViewAll?(d(),j(D,{key:0,type:"primary",size:"small",class:"timesheet-list-card__view-all-btn",onClick:x},{default:g(()=>[...s[2]||(s[2]=[y(" 查看全部 ",-1)])]),_:1})):k("",!0)]),t("div",ft,[(d(!0),u(R,null,N(_.timesheetRecords,a=>(d(),u("div",{key:a.id,class:"timesheet-card"},[t("div",vt,[t("div",gt,[t("div",wt,[t("span",$t,e(m(a.date)),1),s[3]||(s[3]=t("span",{class:"timesheet-card__separator"},"·",-1)),t("span",kt,e(n(a.startTime,a.endTime)),1),a.breakDuration>0?(d(),u("span",bt,e(p(a.breakDuration)),1)):k("",!0)]),r(P,{class:H([b(a.status).class,"timesheet-card__status"])},{default:g(()=>[y(e(b(a.status).text),1)]),_:2},1032,["class"])]),t("div",Tt,e(a.location)+" · "+e(a.address)+" · "+e(a.shiftId),1),t("div",yt,[r(A,{name:"clock",class:"timesheet-card__hours-icon"}),s[5]||(s[5]=t("span",{class:"timesheet-card__hours-label"},"工作時數:",-1)),t("span",At,e($(a.workingHours)),1),a.status==="adjusted"&&a.adjustedHours&&a.originalHours?(d(),u("div",xt,[s[4]||(s[4]=t("span",{class:"timesheet-card__adjusted-label"},"調整後:",-1)),t("span",Ct,e($(a.adjustedHours))+" (原 "+e($(a.originalHours))+") ",1)])):k("",!0)])]),r(o,{modelValue:f.value,"onUpdate:modelValue":s[0]||(s[0]=C=>f.value=C),name:a.id,class:"timesheet-card__collapse"},{default:g(()=>[r(l,{name:a.id,class:"timesheet-card__collapse-item"},{title:g(()=>[t("div",Ht,[r(A,{name:v(a.id)?"arrow-up":"arrow-down",class:"timesheet-card__details-icon"},null,8,["name"]),s[6]||(s[6]=y(" 查看詳情 ",-1))])]),default:g(()=>[t("div",Vt,[t("div",It,[s[7]||(s[7]=t("div",{class:"timesheet-card__audit-title"},"審核備註",-1)),t("div",Dt,e(a.auditNote||"無備註"),1)])])]),_:2},1032,["name"])]),_:2},1032,["modelValue","name"])]))),128))])])}}}),St=I(Pt,[["__scopeId","data-v-3b00ac40"]]),jt={class:"application-list-card"},Rt={class:"application-list-card__header"},Nt={class:"application-list-card__title-section"},Bt={class:"application-list-card__filter-tabs"},Lt=["onClick"],zt={class:"application-list-card__list"},Mt={class:"application-card__content"},Ut={class:"application-card__header"},Wt={class:"application-card__title"},Et={class:"application-card__datetime"},Ft={class:"application-card__location"},qt={class:"application-card__applied-time"},Gt={class:"application-card__applied-time-value"},Jt={class:"application-card__result-text"},Kt={key:1,class:"application-card__actions"},Ot=V({__name:"ApplicationListCard",props:{applicationRecords:{default:()=>[]},showViewAll:{type:Boolean,default:!0}},emits:["viewAll","withdrawApplication"],setup(_,{emit:h}){const w=z(),f=_,m=h,n=[{key:"all",label:"全部"},{key:"pending",label:"待審"},{key:"accepted",label:"錄取"},{key:"rejected",label:"未錄取"},{key:"withdrawn",label:"撤回"}],p=T("all"),$=S(()=>p.value==="all"?f.applicationRecords:f.applicationRecords.filter(l=>l.status===p.value)),b=l=>new Date(l).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),v=(l,o)=>`${l}-${o}`,x=l=>new Date(l).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).replace(/\//g,"/"),c=l=>{const o={pending:{text:"已投遞",class:"application-card__status--pending"},accepted:{text:"已錄取",class:"application-card__status--accepted"},rejected:{text:"未錄取",class:"application-card__status--rejected"},withdrawn:{text:"已撤回",class:"application-card__status--withdrawn"}};return o[l]||o.pending},s=l=>{const o={accepted:{message:"恭喜!您已被錄取，請準時到場工作。",class:"application-card__result--success",showIcon:!0},rejected:{message:"很遺憾，這次未能錄取，請繼續關注其他機會。",class:"application-card__result--error",showIcon:!1},pending:{message:"",class:"",showIcon:!1},withdrawn:{message:"",class:"",showIcon:!1}};return o[l]||o.pending},A=l=>{p.value=l},D=()=>{w.push("/u/applications")},P=l=>{m("withdrawApplication",l)};return(l,o)=>{const a=B,C=L,U=M;return d(),u("div",jt,[t("div",Rt,[t("div",Nt,[r(a,{name:"description-o",class:"application-list-card__title-icon"}),o[0]||(o[0]=t("h3",{class:"application-list-card__title"},"應徵記錄",-1))]),_.showViewAll?(d(),j(C,{key:0,type:"primary",size:"small",class:"application-list-card__view-all-btn",onClick:D},{default:g(()=>[...o[1]||(o[1]=[y(" 查看全部 ",-1)])]),_:1})):k("",!0)]),t("div",Bt,[(d(),u(R,null,N(n,i=>t("div",{key:i.key,class:H(["application-list-card__filter-tab",{"application-list-card__filter-tab--active":p.value===i.key}]),onClick:W=>A(i.key)},e(i.label),11,Lt)),64))]),t("div",zt,[(d(!0),u(R,null,N($.value,i=>(d(),u("div",{key:i.id,class:"application-card"},[t("div",Mt,[t("div",Ut,[t("div",Wt,[t("span",Et,e(b(i.date))+" · "+e(i.position)+" ("+e(v(i.startTime,i.endTime))+") ",1)]),r(U,{class:H([c(i.status).class,"application-card__status"])},{default:g(()=>[y(e(c(i.status).text),1)]),_:2},1032,["class"])]),t("div",Ft,e(i.location)+" · "+e(i.address),1),t("div",qt,[r(a,{name:"clock",class:"application-card__applied-time-icon"}),o[2]||(o[2]=t("span",{class:"application-card__applied-time-label"},"投遞時間:",-1)),t("span",Gt,e(x(i.appliedAt)),1)]),s(i.status).message?(d(),u("div",{key:0,class:H(["application-card__result",s(i.status).class])},[s(i.status).showIcon?(d(),j(a,{key:0,name:"star",class:"application-card__result-icon"})):k("",!0),t("span",Jt,e(s(i.status).message),1)],2)):k("",!0),i.status==="pending"?(d(),u("div",Kt,[r(C,{type:"danger",size:"small",plain:"",class:"application-card__withdraw-btn",onClick:W=>P(i)},{default:g(()=>[...o[3]||(o[3]=[y(" 撤回應徵 ",-1)])]),_:1},8,["onClick"])])):k("",!0)])]))),128))])])}}}),Qt=I(Ot,[["__scopeId","data-v-ed28f62e"]]),Xt={class:"user-profile"},Yt=V({name:"UserProfile",__name:"UserProfileView",setup(_){const h=T({id:"1",name:"王小明",avatar:"",rating:4.8,phone:"0912345678",email:"wang@example.com"}),w=T({approvedThisMonth:128,pendingHours:16,totalHours:1250}),f=T([{id:"1",applicantId:"USER001",applicantName:"王小明",position:"桌邊荷官",date:"2024-08-30",startTime:"18:00",endTime:"23:00",declaredHours:4.5,breakDuration:30,location:"豪華賭場",address:"台北市信義區",shiftId:"#SH240830001",workingHours:4.5,submittedAt:"2024-08-31T10:00:00",phone:"0912345678",email:"wang@example.com",status:"submitted",auditNote:"時數記錄已提交，等待審核"},{id:"2",applicantId:"USER001",applicantName:"王小明",position:"發牌員",date:"2024-08-29",startTime:"14:00",endTime:"22:00",declaredHours:7,breakDuration:60,location:"星光娛樂城",address:"新北市板橋區",shiftId:"#SH240829002",workingHours:7,submittedAt:"2024-08-30T09:00:00",phone:"0912345678",email:"wang@example.com",status:"approved",auditNote:"時數記錄已核准，無需調整"},{id:"3",applicantId:"USER001",applicantName:"王小明",position:"百家樂荷官",date:"2024-08-28",startTime:"20:00",endTime:"02:00",declaredHours:6,breakDuration:30,location:"金沙會館",address:"台北市中山區",shiftId:"#SH240828003",workingHours:6,adjustedHours:5.5,originalHours:6,submittedAt:"2024-08-29T11:00:00",phone:"0912345678",email:"wang@example.com",status:"adjusted",auditNote:"因遲到15分鐘，調整時數為5.5小時"}]),m=()=>{console.log("導航到時數記錄頁面")},n=v=>{console.log("查看時數詳情:",v)},p=T([{id:"1",date:"2024-09-01",startTime:"18:00",endTime:"23:00",position:"桌邊荷官",location:"豪華賭場",address:"台北市信義區",appliedAt:"2024-08-30T15:30:00",status:"accepted",resultMessage:"恭喜!您已被錄取，請準時到場工作。"},{id:"2",date:"2024-08-31",startTime:"14:00",endTime:"22:00",position:"發牌員",location:"星光娛樂城",address:"新北市板橋區",appliedAt:"2024-08-30T12:15:00",status:"pending"},{id:"3",date:"2024-08-30",startTime:"20:00",endTime:"02:00",position:"百家樂荷官",location:"金沙會館",address:"台北市中山區",appliedAt:"2024-08-29T16:45:00",status:"rejected",resultMessage:"很遺憾，這次未能錄取，請繼續關注其他機會。"}]),$=()=>{console.log("導航到應徵記錄頁面")},b=v=>{console.log("撤回應徵:",v)};return(v,x)=>(d(),u("div",Xt,[r(pt,{"user-profile":h.value,"user-stats":w.value},null,8,["user-profile","user-stats"]),r(St,{"timesheet-records":f.value,onViewAll:m,onViewDetails:n},null,8,["timesheet-records"]),r(Qt,{"application-records":p.value,onViewAll:$,onWithdrawApplication:b},null,8,["application-records"])]))}}),se=I(Yt,[["__scopeId","data-v-2db06cff"]]);export{se as default};
