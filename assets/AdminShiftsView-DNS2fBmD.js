import{d as G,g as U,r as y,l as _,e as p,q as a,Z as K,N as j,C as b,H as R,A as z,I as X,G as h,_ as J,h as ne,M as O,y as B,x as Q,v as L,B as se,P as ie,Q as re}from"./index-BJHUlza-.js";import"./index-BXTFkF8r.js";import{S as ce}from"./ShiftDetailsDialog-DgI5PdLq.js";import{E as de,A as ue}from"./ApplicantListDialog-CH0g-rub.js";import{F as me}from"./FilterHeader-CrVf3pjn.js";import{S as he}from"./StatsBlock-D34zmV6V.js";import"./index-MS2WRprz.js";import{F as pe}from"./index-DcpnJfoS.js";import{P as ve,D as ye}from"./index-DjKSqjOV.js";import{T as fe}from"./index-CsriXBrr.js";import{u as ge}from"./useDialog-BKPbntTB.js";import"./ApplicantCard-F63ywRSl.js";import"./index-CnYOSKJm.js";import"./index-COjHXFXs.js";const be={class:"admin-shift-card"},_e={class:"admin-shift-card__header"},we={class:"admin-shift-card__time-title"},ke={class:"time"},Ce={class:"position"},Se={key:0,class:"admin-tag admin-tag--urgent"},De={key:1,class:"admin-tag admin-tag--attention"},$e={key:2,class:"admin-tag admin-tag--new"},xe={class:"admin-shift-card__status"},Pe={class:"admin-shift-card__location"},Ie={class:"company"},Ve={class:"address"},Ae={class:"admin-shift-card__admin-info"},Ee={class:"admin-info-item"},Te={class:"admin-info-value"},Me={class:"admin-info-item"},Ue={class:"admin-info-value"},We={class:"admin-shift-card__content"},Fe={class:"content-item"},Re={class:"content-item__text"},qe={class:"content-item"},Be={class:"content-item__text"},Le={class:"admin-shift-card__deadline"},je={class:"content-item"},ze={class:"content-item__text"},He={class:"admin-shift-card__actions"},Ne={class:"action-buttons"},Ze=G({__name:"AdminShiftCard",props:{timeRange:{},position:{},company:{},address:{},hourlyWage:{},hiredCount:{},totalCount:{},deadline:{},status:{},employerId:{},createdAt:{},trafficInfo:{default:"æ·é‹å¸‚æ”¿åºœç«™2è™Ÿå‡ºå£æ­¥è¡Œ5åˆ†é˜,æˆ–æ­ä¹˜å…¬è»Šè‡³ä¸–è²¿ç«™ä¸‹è»Šã€‚"},contactPerson:{default:"çŽ‹ç¶“ç†"},contactPhone:{default:"02-2345-6789"},contactEmail:{default:"manager@luxurycasino.com"},jobDescription:{default:"è² è²¬ç™¾å®¶æ¨‚ã€21é»žç­‰æ¡Œé‚ŠéŠæˆ²çš„ç™¼ç‰Œèˆ‡æ¡Œé¢ç®¡ç†,ç¶­è­·éŠæˆ²ç§©åº,ç¢ºä¿éŠæˆ²å…¬å¹³é€²è¡Œã€‚"},requirements:{default:()=>["éœ€å…·å‚™1å¹´ä»¥ä¸Šè·å®˜ç¶“é©—","ç†Ÿæ‚‰ç™¾å®¶æ¨‚ã€21é»žç­‰éŠæˆ²è¦å‰‡","å…·å‚™è‰¯å¥½çš„æ•¸å­¸è¨ˆç®—èƒ½åŠ›","è‹±èªžæºé€šèƒ½åŠ›ä½³"]},benefits:{default:()=>["æä¾›å“¡å·¥é¤é»ž","äº¤é€šæ´¥è²¼$200/æ—¥","ç¸¾æ•ˆçŽé‡‘","å…è²»åˆ¶æœæ¸…æ´—"]}},emits:["details","viewList","edit","delete"],setup(u,{emit:H}){const s=u,S=H,V=U(()=>{switch(s.status){case"open":return"status-tag--open";case"full":return"status-tag--full";case"closed":return"status-tag--closed";case"draft":return"status-tag--draft";default:return"status-tag--open"}}),f=U(()=>{switch(s.status){case"open":return"é–‹æ”¾";case"full":return"é¡æ»¿";case"closed":return"å·²é—œé–‰";case"draft":return"è‰ç¨¿";default:return"é–‹æ”¾"}}),v=U(()=>s.deadline),D=U(()=>s.status==="open"&&s.hiredCount<s.totalCount),A=U(()=>s.hiredCount<s.totalCount*.5),g=U(()=>{const w=new Date(s.createdAt);return(new Date().getTime()-w.getTime())/(1e3*60*60)<24}),E=y(!1),$=y(!1),k=y(!1),N=U(()=>({id:"shift-001",date:"2024-09-15",startTime:"18:00",endTime:"23:00",title:s.position,location:s.address,address:s.address,wage:s.hourlyWage,quota:s.totalCount,appliedCount:s.hiredCount,employerId:s.employerId,status:s.status,deadline:"2024/09/15 ä¸‹åˆ05:00",description:s.jobDescription,requirements:s.requirements,benefits:s.benefits,contactPerson:s.contactPerson,contactPhone:s.contactPhone,contactEmail:s.contactEmail,trafficInfo:s.trafficInfo})),I=U(()=>({workDate:"2024/09/15",startTime:"18:00",endTime:"23:00",position:s.position,location:s.address,hourlyWage:s.hourlyWage,requiredStaff:s.totalCount,deadline:"2024/09/15 ä¸‹åˆ05:00"})),W=()=>{k.value=!0},T=()=>{$.value=!0},F=()=>{M.value=!0},Z=()=>{E.value=!0},M=y(!1),l=()=>{S("delete","shift-id"),M.value=!1},o=()=>{M.value=!1},i=w=>{console.log("æ›´æ–°ç­åˆ¥æ•¸æ“š:",w),w&&typeof w=="object"&&S("edit","shift-id",w)},c=()=>{console.log("å–æ¶ˆç·¨è¼¯")},C=()=>{console.log("é—œé–‰æ‡‰å¾µåå–®å°è©±æ¡†")},x=w=>{console.log("éŒ„å–æ‡‰å¾µè€…:",w)},P=w=>{console.log("æ‹’çµ•æ‡‰å¾µè€…:",w)};return(w,d)=>{const q=K,e=X;return h(),_("div",be,[p(ce,{show:E.value,"onUpdate:show":d[0]||(d[0]=m=>E.value=m),timeRange:u.timeRange,position:u.position,company:u.company,hourlyWage:u.hourlyWage,hiredCount:u.hiredCount,totalCount:u.totalCount,deadline:u.deadline,address:u.address,trafficInfo:u.trafficInfo,contactPerson:u.contactPerson,contactPhone:u.contactPhone,contactEmail:u.contactEmail,jobDescription:u.jobDescription,requirements:u.requirements,benefits:u.benefits},null,8,["show","timeRange","position","company","hourlyWage","hiredCount","totalCount","deadline","address","trafficInfo","contactPerson","contactPhone","contactEmail","jobDescription","requirements","benefits"]),p(de,{show:$.value,"shift-data":I.value,"onUpdate:show":d[1]||(d[1]=m=>$.value=m),onUpdate:i,onCancel:c},null,8,["show","shift-data"]),p(ue,{visible:k.value,shift:N.value,"onUpdate:visible":d[2]||(d[2]=m=>k.value=m),onClose:C,onAccept:x,onReject:P},null,8,["visible","shift"]),p(q,{show:M.value,"onUpdate:show":d[3]||(d[3]=m=>M.value=m),title:"ç¢ºèªåˆªé™¤",message:"ç¢ºå®šè¦åˆªé™¤é€™å€‹ç­åˆ¥å—Ž?æ­¤æ“ä½œç„¡æ³•å¾©åŽŸã€‚","show-cancel-button":"","confirm-button-text":"ç¢ºèªåˆªé™¤","cancel-button-text":"å–æ¶ˆ","confirm-button-color":"#fb2c36",onConfirm:l,onCancel:o},null,8,["show"]),a("div",_e,[a("div",we,[a("span",ke,b(u.timeRange),1),d[4]||(d[4]=a("span",{class:"separator"},"ãƒ»",-1)),a("span",Ce,b(u.position),1),D.value?(h(),_("span",Se,"æ€¥å¾µ")):j("",!0),A.value?(h(),_("span",De,"é ˆé—œæ³¨")):j("",!0),g.value?(h(),_("span",$e,"æ–°å¢ž")):j("",!0)]),a("div",xe,[a("span",{class:R(["status-tag",V.value])},b(f.value),3)])]),a("div",Pe,[a("span",Ie,b(u.company),1),d[5]||(d[5]=a("span",{class:"separator"},"ãƒ»",-1)),a("span",Ve,b(u.address),1)]),a("div",Ae,[a("div",Ee,[d[6]||(d[6]=a("span",{class:"admin-info-label"},"å•†å®¶ID:",-1)),a("span",Te,b(u.employerId),1)]),a("div",Me,[d[7]||(d[7]=a("span",{class:"admin-info-label"},"å»ºç«‹æ™‚é–“:",-1)),a("span",Ue,b(u.createdAt),1)])]),a("div",We,[a("div",Fe,[d[8]||(d[8]=a("div",{class:"content-item__icon"},[a("span",{class:"icon-dollar"},"$")],-1)),a("span",Re,"æ™‚è–ª $"+b(u.hourlyWage),1)]),a("div",qe,[d[9]||(d[9]=a("div",{class:"content-item__icon"},[a("span",{class:"icon-people"},"ðŸ‘¥")],-1)),a("span",Be,b(u.hiredCount)+"/"+b(u.totalCount)+"äºº",1)])]),a("div",Le,[a("div",je,[d[10]||(d[10]=a("div",{class:"content-item__icon"},[a("span",{class:"icon-clock"},"ðŸ•")],-1)),a("span",ze,"æˆªæ­¢: "+b(v.value),1)])]),a("div",He,[a("div",Ne,[a("button",{class:"btn btn--view-details",onClick:Z},[p(e,{name:"eye-o"}),d[11]||(d[11]=z(" æŸ¥çœ‹è©³æƒ… ",-1))]),a("button",{class:"btn btn--view-list",onClick:W},[p(e,{name:"user-o"}),d[12]||(d[12]=z(" æŸ¥çœ‹åå–® ",-1))]),a("button",{class:"btn btn--edit",onClick:T},[p(e,{name:"edit"}),d[13]||(d[13]=z(" ç·¨è¼¯ ",-1))]),a("button",{class:"btn btn--delete",onClick:F},[p(e,{name:"delete"})])])])])}}}),Oe=J(Ze,[["__scopeId","data-v-f75272ea"]]),Ye={class:"dialog-title"},Qe={class:"admin-create-shift-dialog__content"},Ge={class:"admin-create-shift-dialog__form"},Je={class:"admin-create-shift-dialog__form-grid"},Ke={class:"admin-create-shift-dialog__label"},Xe={class:"admin-create-shift-dialog__label"},et={class:"admin-create-shift-dialog__label"},tt={class:"admin-create-shift-dialog__label"},at={class:"admin-create-shift-dialog__label"},lt={class:"admin-create-shift-dialog__actions"},ot=G({__name:"AdminCreateShiftDialog",props:{show:{type:Boolean},employers:{default:()=>[{text:"æ˜Ÿå…‰å¨›æ¨‚åŸŽ",value:"EMP001"},{text:"é‡‘æ²™æœƒé¤¨",value:"EMP002"},{text:"è±ªè¯è³­å ´",value:"EMP003"},{text:"çš‡å®¶è³­å ´",value:"EMP004"},{text:"é‘½çŸ³å¨›æ¨‚",value:"EMP005"}]}},emits:["update:show","create","cancel"],setup(u,{emit:H}){const s=u,S=H,V=y(s.employers),f=y({fields:[{key:"employerId",label:"é¸æ“‡å•†å®¶",type:"employer",placeholder:"è«‹é¸æ“‡å•†å®¶",width:"full"},{key:"workDate",label:"å·¥ä½œæ—¥æœŸ",type:"date",placeholder:"è«‹é¸æ“‡å·¥ä½œæ—¥æœŸ",width:"full"},{key:"startTime",label:"èµ·å§‹æ™‚é–“",type:"time",placeholder:"è«‹é¸æ“‡èµ·å§‹æ™‚é–“",width:"half"},{key:"endTime",label:"çµæŸæ™‚é–“",type:"time",placeholder:"è«‹é¸æ“‡çµæŸæ™‚é–“",width:"half"},{key:"position",label:"è·ä½",type:"text",placeholder:"è«‹è¼¸å…¥è·ä½",width:"full"},{key:"location",label:"åœ°é»ž",type:"text",placeholder:"è«‹è¼¸å…¥åœ°é»ž",width:"full"},{key:"hourlyWage",label:"æ™‚è–ª",type:"number",placeholder:"è«‹è¼¸å…¥æ™‚è–ª",min:0,step:1,width:"half"},{key:"requiredStaff",label:"éœ€æ±‚äººæ•¸",type:"number",placeholder:"è«‹è¼¸å…¥éœ€æ±‚äººæ•¸",min:1,step:1,width:"half"},{key:"deadline",label:"æ‡‰å¾µæˆªæ­¢æ™‚é–“",type:"date",placeholder:"è«‹é¸æ“‡æˆªæ­¢æ™‚é–“",width:"full"}],values:{employerId:"",workDate:"",startTime:"",endTime:"",position:"",location:"",hourlyWage:0,requiredStaff:0,deadline:""}}),v=y({}),D=y({}),A=y({}),g=y({});ne(()=>s.employers,l=>{l&&(V.value=l)},{immediate:!0,deep:!0});const E=(l,o)=>!o&&o!==0?l.placeholder||l.label:l.type==="employer"?V.value.find(c=>c.value===o)?.text||l.placeholder||l.label:l.type==="date"?o?new Date(o).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"):l.placeholder||"yyyy/æœˆ/dd":l.type==="time"?o?o.toString():l.placeholder||"HH:mm":l.type==="number"||l.type==="text"?o.toString():l.placeholder||l.label,$=l=>{const o=f.value.fields.find(i=>i.key===l);if(o){if(o.type==="employer"){const i=f.value.values[l];D.value[l]=i?[i.toString()]:[]}else if(o.type==="date"){const i=f.value.values[l];if(i){let c;if(typeof i=="string")if(i.includes("/")){const[C,x,P]=i.split("/");c=new Date(parseInt(C),parseInt(x)-1,parseInt(P))}else i.includes("-")?c=new Date(i):c=new Date(i);else c=new Date(i);isNaN(c.getTime())&&(c=new Date),A.value[l]=[c.getFullYear().toString(),(c.getMonth()+1).toString().padStart(2,"0"),c.getDate().toString().padStart(2,"0")]}else{const c=new Date;A.value[l]=[c.getFullYear().toString(),(c.getMonth()+1).toString().padStart(2,"0"),c.getDate().toString().padStart(2,"0")]}}else if(o.type==="time"){const i=f.value.values[l];if(i){const c=i.toString(),[C,x]=c.split(":"),P=parseInt(C)||0,w=parseInt(x)||0;g.value[l]=[Math.max(0,Math.min(23,P)).toString().padStart(2,"0"),Math.max(0,Math.min(59,w)).toString().padStart(2,"0")]}else{const c=new Date;g.value[l]=[c.getHours().toString().padStart(2,"0"),c.getMinutes().toString().padStart(2,"0")]}}v.value[l]=!0}},k=l=>{v.value[l]=!1},N=l=>{const o=D.value[l.key],i=o&&o.length>0?o[0]:null;i!==null&&T(l,i),k(l.key)},I=l=>{const o=A.value[l.key];if(o&&o.length>=3){const[i,c,C]=o,x=`${i}-${c.padStart(2,"0")}-${C.padStart(2,"0")}`;T(l,x)}k(l.key)},W=l=>{const o=g.value[l.key];if(o&&o.length>=2){const[i,c]=o,C=`${i.padStart(2,"0")}:${c.padStart(2,"0")}`;T(l,C)}k(l.key)},T=(l,o)=>{f.value.values[l.key]=o},F=()=>{S("update:show",!1)},Z=()=>{S("cancel"),F()},M=()=>{const o=["employerId","workDate","startTime","endTime","position","location"].filter(i=>!f.value.values[i]);if(o.length>0){console.warn("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½:",o);return}f.value&&f.value.values&&(S("create",f.value.values),F())};return(l,o)=>{const i=X,c=pe,C=se,x=ve,P=ie,w=ye,d=fe,q=K;return h(),O(q,{show:u.show,"show-cancel-button":!1,"show-confirm-button":!1,class:"admin-create-shift-dialog",onClose:F,"onUpdate:show":o[1]||(o[1]=e=>S("update:show",e))},{default:B(()=>[a("div",Ye,[p(i,{name:"plus",size:"16",color:"black"}),o[2]||(o[2]=a("h3",{class:"dialog-title-text"}," æ–°å¢žç­åˆ¥ ",-1)),a("div",{class:"close-button",onClick:o[0]||(o[0]=e=>l.$emit("update:show",!1))},[p(i,{name:"close",size:"16",color:"black"})])]),a("div",Qe,[a("div",Ge,[a("div",Je,[(h(!0),_(L,null,Q(f.value.fields,e=>(h(),_(L,{key:e.key},[e.type==="employer"?(h(),_("div",{key:0,class:R(["admin-create-shift-dialog__form-item",`admin-create-shift-dialog__form-item--${e.width||"full"}`])},[a("label",Ke,b(e.label),1),p(c,{"model-value":E(e,f.value.values[e.key]),placeholder:e.placeholder||e.label,readonly:"",onClick:m=>$(e.key),class:"admin-create-shift-dialog__employer-input"},null,8,["model-value","placeholder","onClick"])],2)):e.type==="date"?(h(),_("div",{key:1,class:R(["admin-create-shift-dialog__form-item",`admin-create-shift-dialog__form-item--${e.width||"half"}`])},[a("label",Xe,b(e.label),1),p(c,{"model-value":E(e,f.value.values[e.key]),placeholder:e.placeholder||e.label,readonly:"",onClick:m=>$(e.key),class:"admin-create-shift-dialog__date-input"},null,8,["model-value","placeholder","onClick"])],2)):e.type==="time"?(h(),_("div",{key:2,class:R(["admin-create-shift-dialog__form-item",`admin-create-shift-dialog__form-item--${e.width||"half"}`])},[a("label",et,b(e.label),1),p(c,{"model-value":E(e,f.value.values[e.key]),placeholder:e.placeholder||e.label,readonly:"",onClick:m=>$(e.key),class:"admin-create-shift-dialog__time-input"},null,8,["model-value","placeholder","onClick"])],2)):e.type==="number"?(h(),_("div",{key:3,class:R(["admin-create-shift-dialog__form-item",`admin-create-shift-dialog__form-item--${e.width||"half"}`])},[a("label",tt,b(e.label),1),p(c,{"model-value":f.value.values[e.key],type:"number",placeholder:e.placeholder||e.label,min:e.min,max:e.max,step:e.step,"onUpdate:modelValue":m=>T(e,m),class:"admin-create-shift-dialog__number-input"},null,8,["model-value","placeholder","min","max","step","onUpdate:modelValue"])],2)):e.type==="text"?(h(),_("div",{key:4,class:R(["admin-create-shift-dialog__form-item",`admin-create-shift-dialog__form-item--${e.width||"half"}`])},[a("label",at,b(e.label),1),p(c,{"model-value":f.value.values[e.key],type:"text",placeholder:e.placeholder||e.label,"onUpdate:modelValue":m=>T(e,m),class:"admin-create-shift-dialog__text-input"},null,8,["model-value","placeholder","onUpdate:modelValue"])],2)):j("",!0)],64))),128))])]),a("div",lt,[p(C,{type:"primary",size:"small",class:"admin-create-shift-dialog__create-btn",onClick:M},{default:B(()=>[...o[3]||(o[3]=[z(" å»ºç«‹ç­åˆ¥ ",-1)])]),_:1}),p(C,{type:"default",size:"small",class:"admin-create-shift-dialog__cancel-btn",onClick:Z},{default:B(()=>[...o[4]||(o[4]=[z(" å–æ¶ˆ ",-1)])]),_:1})])]),(h(!0),_(L,null,Q(f.value.fields,e=>(h(),_(L,{key:`picker-${e.key}`},[e.type==="employer"?(h(),O(P,{key:0,show:v.value[e.key],"onUpdate:show":m=>v.value[e.key]=m,position:"bottom","destroy-on-close":"",round:""},{default:B(()=>[p(x,{modelValue:D.value[e.key],"onUpdate:modelValue":m=>D.value[e.key]=m,columns:V.value,onConfirm:()=>N(e),onCancel:()=>k(e.key)},null,8,["modelValue","onUpdate:modelValue","columns","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):e.type==="date"?(h(),O(P,{key:1,show:v.value[e.key],"onUpdate:show":m=>v.value[e.key]=m,position:"bottom","destroy-on-close":"",round:""},{default:B(()=>[p(w,{modelValue:A.value[e.key],"onUpdate:modelValue":m=>A.value[e.key]=m,onConfirm:()=>I(e),onCancel:()=>k(e.key)},null,8,["modelValue","onUpdate:modelValue","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):e.type==="time"?(h(),O(P,{key:2,show:v.value[e.key],"onUpdate:show":m=>v.value[e.key]=m,position:"bottom","destroy-on-close":"",round:""},{default:B(()=>[p(d,{modelValue:g.value[e.key],"onUpdate:modelValue":m=>g.value[e.key]=m,onConfirm:()=>W(e),onCancel:()=>k(e.key)},null,8,["modelValue","onUpdate:modelValue","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):j("",!0)],64))),128))]),_:1},8,["show"])}}}),nt=J(ot,[["__scopeId","data-v-eabb236f"]]),st={class:"admin-shifts"},it={class:"admin-shifts__stats-section"},rt={class:"content-container"},ct={class:"status-filter-buttons"},dt=["onClick"],ut={key:0,class:"count-badge"},mt={class:"shifts-list"},ht=G({name:"AdminShiftsView",__name:"AdminShiftsView",setup(u){const{showAlert:H,showSuccess:s,showError:S}=ge(),V=y(!1),f=y([{text:"æ˜Ÿå…‰å¨›æ¨‚åŸŽ",value:"EMP001"},{text:"é‡‘æ²™æœƒé¤¨",value:"EMP002"},{text:"è±ªè¯è³­å ´",value:"EMP003"},{text:"çš‡å®¶è³­å ´",value:"EMP004"},{text:"é‘½çŸ³å¨›æ¨‚",value:"EMP005"}]),v=y([{id:"1",timeRange:"14:00-22:00",position:"ç™¼ç‰Œå“¡",company:"æ˜Ÿå…‰å¨›æ¨‚åŸŽ",address:"æ–°åŒ—å¸‚æ¿æ©‹å€",hourlyWage:450,hiredCount:5,totalCount:6,deadline:"ä»Šæ—¥13:00",status:"open",employerId:"EMP001",createdAt:"2024-09-10T10:00:00Z"},{id:"2",timeRange:"20:00-02:00",position:"ç™¾å®¶æ¨‚è·å®˜",company:"é‡‘æ²™æœƒé¤¨",address:"å°åŒ—å¸‚ä¸­å±±å€",hourlyWage:600,hiredCount:12,totalCount:12,deadline:"",status:"full",employerId:"EMP002",createdAt:"2024-09-09T14:30:00Z"},{id:"3",timeRange:"18:00-23:00",position:"æ¡Œé‚Šè·å®˜",company:"è±ªè¯è³­å ´",address:"å°åŒ—å¸‚ä¿¡ç¾©å€",hourlyWage:500,hiredCount:8,totalCount:10,deadline:"ä»Šæ—¥17:00",status:"open",employerId:"EMP003",createdAt:"2024-09-11T09:15:00Z"},{id:"4",timeRange:"10:00-18:00",position:"è¼ªç›¤è·å®˜",company:"çš‡å®¶è³­å ´",address:"å°åŒ—å¸‚æ¾å±±å€",hourlyWage:550,hiredCount:0,totalCount:4,deadline:"æ˜Žæ—¥09:00",status:"draft",employerId:"EMP004",createdAt:"2024-09-12T16:45:00Z"},{id:"5",timeRange:"16:00-24:00",position:"21é»žè·å®˜",company:"é‘½çŸ³å¨›æ¨‚",address:"å°åŒ—å¸‚å¤§å®‰å€",hourlyWage:480,hiredCount:6,totalCount:6,deadline:"å·²æˆªæ­¢",status:"closed",employerId:"EMP005",createdAt:"2024-09-08T11:20:00Z"}]),D=y("unavailable"),A=y("ä»Šå¤©"),g=y("all"),E=y([{label:"å…¨éƒ¨",value:"all"},{label:"è‰ç¨¿",value:"draft"},{label:"é–‹æ”¾",value:"open"},{label:"é¡æ»¿",value:"full"},{label:"æˆªæ­¢",value:"closed"},{label:"æ€¥å¾µ",value:"urgent"},{label:"é ˆé—œæ³¨",value:"attention"}]),$=y({all:0,draft:0,open:0,full:0,closed:0,urgent:0,attention:0}),k=y([{id:"total-shifts",value:0,label:"ç¸½ç­åˆ¥æ•¸",color:"blue"},{id:"open",value:0,label:"é–‹æ”¾",color:"green"},{id:"urgent",value:0,label:"æ€¥å¾µ",color:"orange"},{id:"attention",value:0,label:"é ˆé—œæ³¨",color:"purple"}]),N=()=>{const t=M(Z);t==="available"?D.value="available":t==="unavailable"&&(D.value="unavailable"),A.value="ä»Šå¤©"},I=y({fields:[{type:"search",key:"search",label:"æœå°‹",placeholder:"æœå°‹è·ä½/å•†å®¶",width:"full"},{type:"select",key:"status",label:"ç‹€æ…‹",placeholder:"é¸æ“‡ç‹€æ…‹",width:"half",options:[{text:"å…¨éƒ¨ç‹€æ…‹",value:"all"},{text:"å°šæœ‰ç¼ºé¡",value:"available"},{text:"æš«ç„¡ç¼ºé¡",value:"unavailable"}]},{type:"select",key:"position",label:"è·ä½",placeholder:"é¸æ“‡è·ä½",width:"half",options:[{text:"å…¨éƒ¨è·ä½",value:"all"},{text:"ç™¼ç‰Œå“¡",value:"dealer"},{text:"ç™¾å®¶æ¨‚è·å®˜",value:"baccarat"},{text:"æ¡Œé‚Šè·å®˜",value:"table"}]},{type:"date",key:"date",label:"å·¥ä½œæ—¥æœŸ",placeholder:"é¸æ“‡æ—¥æœŸ",width:"half"},{type:"select",key:"sortBy",label:"æŽ’åº",placeholder:"é¸æ“‡æŽ’åºæ–¹å¼",width:"half",options:[{text:"æœ€æ–°åˆ°æœ€èˆŠ",value:"newest"},{text:"æœ€èˆŠåˆ°æœ€æ–°",value:"oldest"},{text:"æ™‚è–ªé«˜åˆ°ä½Ž",value:"wage_high"},{text:"æ™‚è–ªä½Žåˆ°é«˜",value:"wage_low"}]}],values:{search:"",status:"all",position:"all",date:"",sortBy:"newest"}}),W=y(""),T=y({"2025-08-31":"unavailable","2025-09-01":"unavailable","2025-09-02":"unavailable","2025-09-03":"unavailable","2025-09-04":"available","2025-09-05":"available","2025-09-06":"available","2025-09-07":"unavailable","2025-09-08":"unavailable","2025-09-09":"available","2025-09-10":"available","2025-09-11":"available","2025-09-12":"today","2025-09-13":"available","2025-09-14":"unavailable","2025-09-15":"available","2025-09-16":"available","2025-09-17":"unavailable","2025-09-18":"available","2025-09-19":"available","2025-09-20":"available","2025-09-21":"unavailable","2025-09-22":"available","2025-09-23":"available","2025-09-24":"available","2025-09-25":"available","2025-09-26":"available","2025-09-27":"available","2025-09-28":"available","2025-09-29":"available","2025-09-30":"unavailable","2025-10-01":"available","2025-10-02":"unavailable","2025-10-03":"available","2025-10-04":"available","2025-10-05":"available"}),F=t=>{const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),Y=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${Y}`},Z=new Date,M=t=>{const n=F(t);return T.value[n]||""},l=()=>{const t={all:v.value.length,draft:0,open:0,full:0,closed:0,urgent:0,attention:0};v.value.forEach(n=>{switch(n.status){case"draft":t.draft++;break;case"open":t.open++,o(n)&&t.urgent++;break;case"full":t.full++;break;case"closed":t.closed++;break}i(n)&&t.attention++}),$.value=t,k.value[0].value=t.all,k.value[1].value=t.open,k.value[2].value=t.urgent,k.value[3].value=t.attention},o=t=>t.status==="open"&&t.hiredCount<t.totalCount,i=t=>t.hiredCount<t.totalCount*.5,c=t=>{g.value=t,console.log("ç¯©é¸ç‹€æ…‹:",t)},C=t=>{switch(console.log("é»žæ“Šçµ±è¨ˆé …ç›®:",t),t.id){case"total-shifts":g.value="all";break;case"open":g.value="open";break;case"urgent":g.value="urgent";break;case"attention":g.value="attention";break}},x=()=>{console.log("æ–°å¢žç­åˆ¥"),V.value=!0},P=async t=>{console.log("å»ºç«‹ç­åˆ¥:",t);try{await s("ç­åˆ¥å·²æˆåŠŸå»ºç«‹ï¼");const n={id:`shift-${Date.now()}`,timeRange:`${t.startTime}-${t.endTime}`,position:t.position,company:f.value.find(r=>r.value===t.employerId)?.text||"æœªçŸ¥å•†å®¶",address:t.location,hourlyWage:t.hourlyWage,hiredCount:0,totalCount:t.requiredStaff,deadline:t.deadline,status:"draft",employerId:t.employerId,createdAt:new Date().toISOString()};v.value.unshift(n),l()}catch{await S("å»ºç«‹ç­åˆ¥å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}},w=()=>{console.log("å–æ¶ˆå»ºç«‹ç­åˆ¥")},d=U(()=>g.value==="all"?v.value:g.value==="urgent"?v.value.filter(t=>o(t)):g.value==="attention"?v.value.filter(t=>i(t)):v.value.filter(t=>t.status===g.value)),q=(t,n)=>{I.value={...I.value,values:{...I.value.values,[t]:n}},t==="search"?W.value=n:t==="status"&&(D.value=n),console.log("ç¯©é¸è®Šæ›´:",t,n)},e=t=>{console.log("æœå°‹:",t),I.value.values.search=t,W.value=t},m=()=>{console.log("åˆ‡æ›ç¯©é¸é¸å–®")},ee=()=>{console.log("é‡ç½®ç¯©é¸"),I.value.values={search:"",status:"all",position:"all",date:"",sortBy:"newest"},W.value="",D.value="unavailable"};re(()=>{N(),l()});const te=async(t,n)=>{console.log("ç·¨è¼¯ç­åˆ¥:",t,n);try{await s("ç­åˆ¥å·²æˆåŠŸæ›´æ–°ã€‚");const r=v.value.find(Y=>Y.id===t);r&&(r.position=n.position,r.hourlyWage=n.hourlyWage,r.totalCount=n.requiredStaff)}catch{await S("æ›´æ–°å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}},ae=async t=>{console.log("åˆªé™¤ç­åˆ¥:",t);try{await s("ç­åˆ¥å·²æˆåŠŸåˆªé™¤ã€‚");const n=v.value.findIndex(r=>r.id===t);n>-1&&v.value.splice(n,1)}catch{await S("åˆªé™¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚")}},le=async t=>{console.log("æŸ¥çœ‹è©³ç´°è³‡æ–™:",t);const n=v.value.find(r=>r.id===t);n&&await H({title:"ç­è¡¨è©³ç´°è³‡æ–™",message:`
			è·ä½ï¼š${n.position}
			å…¬å¸ï¼š${n.company}
			åœ°å€ï¼š${n.address}
			æ™‚æ®µï¼š${n.timeRange}
			æ™‚è–ªï¼š$${n.hourlyWage}
			å·²éŒ„å–ï¼š${n.hiredCount}/${n.totalCount} äºº
			æˆªæ­¢æ™‚é–“ï¼š${n.deadline||"ç„¡"}
			å•†å®¶IDï¼š${n.employerId}
			å»ºç«‹æ™‚é–“ï¼š${new Date(n.createdAt).toLocaleString("zh-TW")}
		`.trim()})},oe=async t=>{console.log("æŸ¥çœ‹æ‡‰å¾µåå–®:",t),await s("é–‹å•Ÿæ‡‰å¾µåå–®åŠŸèƒ½")};return(t,n)=>(h(),_("div",st,[p(nt,{show:V.value,employers:f.value,"onUpdate:show":n[0]||(n[0]=r=>V.value=r),onCreate:P,onCancel:w},null,8,["show","employers"]),p(me,{title:"ç­åˆ¥ç®¡ç†","filter-config":I.value,sticky:!0,"show-title":!1,"show-add-button":!0,"add-button-text":"æ–°å¢žç­åˆ¥",onUpdateFilter:q,onSearch:e,onToggleFilter:m,onReset:ee,onAdd:x},null,8,["filter-config"]),a("div",it,[p(he,{data:k.value,onItemClick:C},null,8,["data"])]),a("div",rt,[a("div",ct,[(h(!0),_(L,null,Q(E.value,r=>(h(),_("button",{key:r.value,onClick:Y=>c(r.value),class:R([{active:g.value===r.value,[`status-btn--${r.value}`]:!0},"status-btn"])},[z(b(r.label)+" ",1),$.value[r.value]>0?(h(),_("span",ut," ("+b($.value[r.value])+") ",1)):j("",!0)],10,dt))),128))]),a("div",mt,[(h(!0),_(L,null,Q(d.value,r=>(h(),O(Oe,{key:r.id,"time-range":r.timeRange,position:r.position,company:r.company,address:r.address,"hourly-wage":r.hourlyWage,"hired-count":r.hiredCount,"total-count":r.totalCount,deadline:r.deadline,status:r.status,"employer-id":r.employerId,"created-at":r.createdAt,onDetails:le,onViewList:oe,onEdit:te,onDelete:ae},null,8,["time-range","position","company","address","hourly-wage","hired-count","total-count","deadline","status","employer-id","created-at"]))),128))])])]))}}),Pt=J(ht,[["__scopeId","data-v-2ec6972a"]]);export{Pt as default};
