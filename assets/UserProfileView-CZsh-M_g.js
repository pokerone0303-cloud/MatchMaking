import{d as H,J as L,k as O,Z as q,y as M,e as _,$ as G,R as W,a0 as ee,r as x,a1 as te,c as R,a2 as se,L as ae,D as E,a3 as F,O as ie,i as ne,a4 as le,a5 as oe,p as ce,X as de,Q as re,a6 as _e,a as $,b as e,t as i,I as z,o as w,_ as I,Y as j,T as P,w as C,F as B,f as N,B as U,g as V,n as D,u as Y}from"./index-K-9wvg5E.js";import{T as J}from"./index-E5r8xtEv.js";const[K,ue]=O("collapse"),Q=Symbol(K),pe={border:L,accordion:Boolean,modelValue:{type:[String,Number,Array],default:""}};var me=H({name:K,props:pe,emits:["change","update:modelValue"],setup(n,{emit:p,slots:m}){const{linkChildren:g,children:h}=q(Q),l=a=>{p("change",a),p("update:modelValue",a)},u=(a,b)=>{const{accordion:o,modelValue:t}=n;l(o?a===t?"":a:b?t.concat(a):t.filter(y=>y!==a))},v=(a={})=>{if(n.accordion)return;typeof a=="boolean"&&(a={expanded:a});const{expanded:b,skipDisabled:o}=a,y=h.filter(T=>T.disabled&&o?T.expanded.value:b??!T.expanded.value).map(T=>T.itemName.value);l(y)},k=a=>{const{accordion:b,modelValue:o}=n;return b?o===a:o.includes(a)};return M({toggleAll:v}),g({toggle:u,isExpanded:k}),()=>{var a;return _("div",{class:[ue(),{[G]:n.border}]},[(a=m.default)==null?void 0:a.call(m)])}}});const he=W(me),[fe,S]=O("collapse-item"),ve=["icon","title","value","label","right-icon"],ge=ee({},F,{name:ce,isLink:L,disabled:Boolean,readonly:Boolean,lazyRender:L});var we=H({name:fe,props:ge,setup(n,{slots:p}){const m=x(),g=x(),{parent:h,index:l}=te(Q);if(!h)return;const u=R(()=>{var f;return(f=n.name)!=null?f:l.value}),v=R(()=>h.isExpanded(u.value)),k=x(v.value),a=se(()=>k.value||!n.lazyRender),b=()=>{v.value?m.value&&(m.value.style.height=""):k.value=!1};ae(v,(f,d)=>{if(d===null)return;f&&(k.value=!0),(f?de:re)(()=>{if(!g.value||!m.value)return;const{offsetHeight:s}=g.value;if(s){const A=`${s}px`;m.value.style.height=f?"0":A,_e(()=>{m.value&&(m.value.style.height=f?A:"0")})}else b()})});const o=(f=!v.value)=>{h.toggle(u.value,f)},t=()=>{!n.disabled&&!n.readonly&&o()},y=()=>{const{border:f,disabled:d,readonly:c}=n,s=E(n,Object.keys(F));return c&&(s.isLink=!1),(d||c)&&(s.clickable=!1),_(ne,ie({role:"button",class:S("title",{disabled:d,expanded:v.value,borderless:!f}),"aria-expanded":String(v.value),onClick:t},s),E(p,ve))},T=a(()=>{var f;return le(_("div",{ref:m,class:S("wrapper"),onTransitionend:b},[_("div",{ref:g,class:S("content")},[(f=p.default)==null?void 0:f.call(p)])]),[[oe,k.value]])});return M({toggle:o,expanded:v,itemName:u}),()=>_("div",{class:[S({border:l.value&&n.border})]},[y(),T()])}});const be=W(we),ke={class:"profile-card"},$e={class:"profile-card__user-info"},ye={class:"profile-card__user-main"},Te={class:"profile-card__avatar"},xe={class:"profile-card__avatar-placeholder"},Ce={class:"profile-card__user-details"},Ae={class:"profile-card__name"},Pe={class:"profile-card__rating"},Ve={class:"profile-card__rating-text"},He={class:"profile-card__contact"},Re={class:"profile-card__contact-text"},Se={class:"profile-card__contact"},De={class:"profile-card__contact-text"},Ie={class:"profile-card__stats"},Le={class:"profile-card__stat-item"},je={class:"profile-card__stat-number profile-card__stat-number--blue"},Be={class:"profile-card__stat-item"},Ne={class:"profile-card__stat-number profile-card__stat-number--orange"},ze={class:"profile-card__stat-item"},Ee={class:"profile-card__stat-number profile-card__stat-number--green"},Oe=H({__name:"ProfileCard",props:{userProfile:{default:()=>({id:"",name:"",avatar:"",rating:0,phone:"",email:""})},userStats:{default:()=>({approvedThisMonth:0,pendingHours:0,totalHours:0})}},setup(n){const p=n,m=R(()=>{if(p.userProfile.phone.length>=10){const h=p.userProfile.phone.slice(0,4),l=p.userProfile.phone.slice(-3);return`${h}***${l}`}return p.userProfile.phone}),g=R(()=>{const[h,l]=p.userProfile.email.split("@");if(h.length>2){const u=h.slice(0,2);return h.slice(-1),`${u}***@${l}`}return p.userProfile.email});return(h,l)=>{const u=z;return w(),$("div",ke,[e("div",$e,[e("div",ye,[e("div",Te,[e("div",xe,i(n.userProfile.name.charAt(0)),1)]),e("div",Ce,[e("div",Ae,i(n.userProfile.name),1),e("div",Pe,[_(u,{name:"star",class:"profile-card__rating-icon"}),e("span",Ve,i(n.userProfile.rating)+"分",1)]),e("div",He,[_(u,{name:"phone",class:"profile-card__contact-icon"}),e("span",Re,i(m.value),1)]),e("div",Se,[_(u,{name:"envelop",class:"profile-card__contact-icon"}),e("span",De,i(g.value),1)])])])]),l[3]||(l[3]=e("div",{class:"profile-card__divider"},null,-1)),e("div",Ie,[e("div",Le,[e("div",je,i(n.userStats.approvedThisMonth),1),l[0]||(l[0]=e("div",{class:"profile-card__stat-label"},"本月已核准",-1))]),e("div",Be,[e("div",Ne,i(n.userStats.pendingHours),1),l[1]||(l[1]=e("div",{class:"profile-card__stat-label"},"待審核時數",-1))]),e("div",ze,[e("div",Ee,i(n.userStats.totalHours),1),l[2]||(l[2]=e("div",{class:"profile-card__stat-label"},"累積時數",-1))])])])}}}),Me=I(Oe,[["__scopeId","data-v-a858ad75"]]),We={class:"timesheet-list-card"},Fe={class:"timesheet-list-card__header"},Ue={class:"timesheet-list-card__title-section"},Ye={class:"timesheet-list-card__list"},Je={class:"timesheet-card__content"},Ke={class:"timesheet-card__header"},Qe={class:"timesheet-card__datetime"},Xe={class:"timesheet-card__date"},Ze={class:"timesheet-card__time"},qe={key:0,class:"timesheet-card__break"},Ge={class:"timesheet-card__location"},et={class:"timesheet-card__hours"},tt={class:"timesheet-card__hours-value"},st={key:0,class:"timesheet-card__adjusted-hours"},at={class:"timesheet-card__adjusted-value"},it={class:"timesheet-card__details-title"},nt={class:"timesheet-card__collapse-content"},lt={class:"timesheet-card__audit-section"},ot={class:"timesheet-card__audit-content"},ct=H({__name:"TimesheetListCard",props:{timesheetRecords:{default:()=>[]},showViewAll:{type:Boolean,default:!0}},emits:["viewAll","viewDetails"],setup(n,{emit:p}){const m=Y(),g=x([]),h=o=>new Date(o).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),l=(o,t)=>`${o}-${t}`,u=o=>o===0?"":`(休息 ${o}m)`,v=o=>`${o}h`,k=o=>{const t={submitted:{text:"已提交",class:"timesheet-card__status--submitted"},approved:{text:"已核准",class:"timesheet-card__status--approved"},adjusted:{text:"已調整",class:"timesheet-card__status--adjusted"}};return t[o]||t.submitted},a=o=>g.value.includes(o),b=()=>{m.push("/u/timesheets")};return(o,t)=>{const y=z,T=U,f=J,d=be,c=he;return w(),$("div",We,[e("div",Fe,[e("div",Ue,[_(y,{name:"clock-o",class:"timesheet-list-card__title-icon"}),t[1]||(t[1]=e("h3",{class:"timesheet-list-card__title"},"實際上班時數",-1))]),n.showViewAll?(w(),j(T,{key:0,type:"primary",size:"small",class:"timesheet-list-card__view-all-btn",onClick:b},{default:C(()=>[...t[2]||(t[2]=[V(" 查看全部 ",-1)])]),_:1})):P("",!0)]),e("div",Ye,[(w(!0),$(B,null,N(n.timesheetRecords,s=>(w(),$("div",{key:s.id,class:"timesheet-card"},[e("div",Je,[e("div",Ke,[e("div",Qe,[e("span",Xe,i(h(s.date)),1),t[3]||(t[3]=e("span",{class:"timesheet-card__separator"},"·",-1)),e("span",Ze,i(l(s.startTime,s.endTime)),1),s.breakDuration>0?(w(),$("span",qe,i(u(s.breakDuration)),1)):P("",!0)]),_(f,{class:D([k(s.status).class,"timesheet-card__status"])},{default:C(()=>[V(i(k(s.status).text),1)]),_:2},1032,["class"])]),e("div",Ge,i(s.location)+" · "+i(s.address)+" · "+i(s.shiftId),1),e("div",et,[_(y,{name:"clock",class:"timesheet-card__hours-icon"}),t[5]||(t[5]=e("span",{class:"timesheet-card__hours-label"},"工作時數:",-1)),e("span",tt,i(v(s.workingHours)),1),s.status==="adjusted"&&s.adjustedHours&&s.originalHours?(w(),$("div",st,[t[4]||(t[4]=e("span",{class:"timesheet-card__adjusted-label"},"調整後:",-1)),e("span",at,i(v(s.adjustedHours))+" (原 "+i(v(s.originalHours))+") ",1)])):P("",!0)])]),_(c,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=A=>g.value=A),name:s.id,class:"timesheet-card__collapse"},{default:C(()=>[_(d,{name:s.id,class:"timesheet-card__collapse-item"},{title:C(()=>[e("div",it,[_(y,{name:a(s.id)?"arrow-up":"arrow-down",class:"timesheet-card__details-icon"},null,8,["name"]),t[6]||(t[6]=V(" 查看詳情 ",-1))])]),default:C(()=>[e("div",nt,[e("div",lt,[t[7]||(t[7]=e("div",{class:"timesheet-card__audit-title"},"審核備註",-1)),e("div",ot,i(s.auditNote||"無備註"),1)])])]),_:2},1032,["name"])]),_:2},1032,["modelValue","name"])]))),128))])])}}}),dt=I(ct,[["__scopeId","data-v-3b00ac40"]]),rt={class:"application-list-card"},_t={class:"application-list-card__header"},ut={class:"application-list-card__title-section"},pt={class:"application-list-card__filter-tabs"},mt=["onClick"],ht={class:"application-list-card__list"},ft={class:"application-card__content"},vt={class:"application-card__header"},gt={class:"application-card__title"},wt={class:"application-card__datetime"},bt={class:"application-card__location"},kt={class:"application-card__applied-time"},$t={class:"application-card__applied-time-value"},yt={class:"application-card__result-text"},Tt={key:1,class:"application-card__actions"},xt=H({__name:"ApplicationListCard",props:{applicationRecords:{default:()=>[]},showViewAll:{type:Boolean,default:!0}},emits:["viewAll","withdrawApplication"],setup(n,{emit:p}){const m=Y(),g=n,h=p,l=[{key:"all",label:"全部"},{key:"pending",label:"待審"},{key:"accepted",label:"錄取"},{key:"rejected",label:"未錄取"},{key:"withdrawn",label:"撤回"}],u=x("all"),v=R(()=>u.value==="all"?g.applicationRecords:g.applicationRecords.filter(d=>d.status===u.value)),k=d=>new Date(d).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"),a=(d,c)=>`${d}-${c}`,b=d=>new Date(d).toLocaleString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}).replace(/\//g,"/"),o=d=>{const c={pending:{text:"已投遞",class:"application-card__status--pending"},accepted:{text:"已錄取",class:"application-card__status--accepted"},rejected:{text:"未錄取",class:"application-card__status--rejected"},withdrawn:{text:"已撤回",class:"application-card__status--withdrawn"}};return c[d]||c.pending},t=d=>{const c={accepted:{message:"恭喜!您已被錄取，請準時到場工作。",class:"application-card__result--success",showIcon:!0},rejected:{message:"很遺憾，這次未能錄取，請繼續關注其他機會。",class:"application-card__result--error",showIcon:!1},pending:{message:"",class:"",showIcon:!1},withdrawn:{message:"",class:"",showIcon:!1}};return c[d]||c.pending},y=d=>{u.value=d},T=()=>{m.push("/u/applications")},f=d=>{h("withdrawApplication",d)};return(d,c)=>{const s=z,A=U,X=J;return w(),$("div",rt,[e("div",_t,[e("div",ut,[_(s,{name:"description-o",class:"application-list-card__title-icon"}),c[0]||(c[0]=e("h3",{class:"application-list-card__title"},"應徵記錄",-1))]),n.showViewAll?(w(),j(A,{key:0,type:"primary",size:"small",class:"application-list-card__view-all-btn",onClick:T},{default:C(()=>[...c[1]||(c[1]=[V(" 查看全部 ",-1)])]),_:1})):P("",!0)]),e("div",pt,[(w(),$(B,null,N(l,r=>e("div",{key:r.key,class:D(["application-list-card__filter-tab",{"application-list-card__filter-tab--active":u.value===r.key}]),onClick:Z=>y(r.key)},i(r.label),11,mt)),64))]),e("div",ht,[(w(!0),$(B,null,N(v.value,r=>(w(),$("div",{key:r.id,class:"application-card"},[e("div",ft,[e("div",vt,[e("div",gt,[e("span",wt,i(k(r.date))+" · "+i(r.position)+" ("+i(a(r.startTime,r.endTime))+") ",1)]),_(X,{class:D([o(r.status).class,"application-card__status"])},{default:C(()=>[V(i(o(r.status).text),1)]),_:2},1032,["class"])]),e("div",bt,i(r.location)+" · "+i(r.address),1),e("div",kt,[_(s,{name:"clock",class:"application-card__applied-time-icon"}),c[2]||(c[2]=e("span",{class:"application-card__applied-time-label"},"投遞時間:",-1)),e("span",$t,i(b(r.appliedAt)),1)]),t(r.status).message?(w(),$("div",{key:0,class:D(["application-card__result",t(r.status).class])},[t(r.status).showIcon?(w(),j(s,{key:0,name:"star",class:"application-card__result-icon"})):P("",!0),e("span",yt,i(t(r.status).message),1)],2)):P("",!0),r.status==="pending"?(w(),$("div",Tt,[_(A,{type:"danger",size:"small",plain:"",class:"application-card__withdraw-btn",onClick:Z=>f(r)},{default:C(()=>[...c[3]||(c[3]=[V(" 撤回應徵 ",-1)])]),_:1},8,["onClick"])])):P("",!0)])]))),128))])])}}}),Ct=I(xt,[["__scopeId","data-v-ed28f62e"]]),At={class:"user-profile"},Pt=H({name:"UserProfile",__name:"UserProfileView",setup(n){const p=x({id:"1",name:"王小明",avatar:"",rating:4.8,phone:"0912345678",email:"wang@example.com"}),m=x({approvedThisMonth:128,pendingHours:16,totalHours:1250}),g=x([{id:"1",date:"2024-08-30",startTime:"18:00",endTime:"23:00",breakDuration:30,location:"豪華賭場",address:"台北市信義區",shiftId:"#SH240830001",workingHours:4.5,status:"submitted",auditNote:"時數記錄已提交，等待審核"},{id:"2",date:"2024-08-29",startTime:"14:00",endTime:"22:00",breakDuration:60,location:"星光娛樂城",address:"新北市板橋區",shiftId:"#SH240829002",workingHours:7,status:"approved",auditNote:"時數記錄已核准，無需調整"},{id:"3",date:"2024-08-28",startTime:"20:00",endTime:"02:00",breakDuration:30,location:"金沙會館",address:"台北市中山區",shiftId:"#SH240828003",workingHours:6,adjustedHours:5.5,originalHours:6,status:"adjusted",auditNote:"因遲到15分鐘，調整時數為5.5小時"}]),h=()=>{console.log("導航到時數記錄頁面")},l=a=>{console.log("查看時數詳情:",a)},u=x([{id:"1",date:"2024-09-01",startTime:"18:00",endTime:"23:00",position:"桌邊荷官",location:"豪華賭場",address:"台北市信義區",appliedAt:"2024-08-30T15:30:00",status:"accepted",resultMessage:"恭喜!您已被錄取，請準時到場工作。"},{id:"2",date:"2024-08-31",startTime:"14:00",endTime:"22:00",position:"發牌員",location:"星光娛樂城",address:"新北市板橋區",appliedAt:"2024-08-30T12:15:00",status:"pending"},{id:"3",date:"2024-08-30",startTime:"20:00",endTime:"02:00",position:"百家樂荷官",location:"金沙會館",address:"台北市中山區",appliedAt:"2024-08-29T16:45:00",status:"rejected",resultMessage:"很遺憾，這次未能錄取，請繼續關注其他機會。"}]),v=()=>{console.log("導航到應徵記錄頁面")},k=a=>{console.log("撤回應徵:",a)};return(a,b)=>(w(),$("div",At,[_(Me,{"user-profile":p.value,"user-stats":m.value},null,8,["user-profile","user-stats"]),_(dt,{"timesheet-records":g.value,onViewAll:h,onViewDetails:l},null,8,["timesheet-records"]),_(Ct,{"application-records":u.value,onViewAll:v,onWithdrawApplication:k},null,8,["application-records"])]))}}),Rt=I(Pt,[["__scopeId","data-v-2c49de73"]]);export{Rt as default};
