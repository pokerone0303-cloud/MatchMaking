import{r as B,j as Et,k as ut,d as at,m as Nt,l as Yt,c as b,e as g,p as yt,q as Vt,v as zt,x as Ut,y as Ft,z as Dt,A as jt,D as ct,E as rt,I as wt,H as pt,G as kt,J as K,K as qt,L as ft,M as Lt,P as Kt,N as Qt,O as Gt,B as Jt,s as $t,Q as ht,R as Xt,a as U,b as s,t as $,n as Z,T as st,g as Zt,o as V,_ as _t,U as te,V as ee,W as mt,F as Rt,f as Pt,w as gt,X as bt,Y as ae}from"./index-K-9wvg5E.js";import{g as ne}from"./index-R9REr-6p.js";import"./index-C6rNtyvH.js";import{S as se}from"./index-BmPhYbYV.js";import{S as oe}from"./ShiftDetailsDialog-BHvnuKaH.js";import{u as le}from"./useDialog-BO8MixjU.js";/* empty css              */function ie(){const t=B([]),l=[];return Et(()=>{t.value=[]}),[t,v=>(l[v]||(l[v]=y=>{t.value[v]=y}),l[v])]}const[ce,x,J]=ut("calendar"),re=t=>J("monthTitle",t.getFullYear(),t.getMonth()+1);function et(t,l){const o=t.getFullYear(),v=l.getFullYear();if(o===v){const y=t.getMonth(),C=l.getMonth();return y===C?0:y>C?1:-1}return o>v?1:-1}function E(t,l){const o=et(t,l);if(o===0){const v=t.getDate(),y=l.getDate();return v===y?0:v>y?1:-1}return o}const ot=t=>new Date(t),Bt=t=>Array.isArray(t)?t.map(ot):ot(t);function Mt(t,l){const o=ot(t);return o.setDate(o.getDate()+l),o}function xt(t,l){const o=ot(t);return o.setMonth(o.getMonth()+l),o.getDate()!==t.getDate()&&o.setDate(0),o}function Ht(t,l){const o=ot(t);return o.setFullYear(o.getFullYear()+l),o.getDate()!==t.getDate()&&o.setDate(0),o}const St=t=>Mt(t,-1),Ct=t=>Mt(t,1),At=t=>xt(t,-1),Ot=t=>xt(t,1),Wt=t=>Ht(t,-1),It=t=>Ht(t,1),it=()=>{const t=new Date;return t.setHours(0,0,0,0),t};function ue(t){const l=t[0].getTime();return(t[1].getTime()-l)/(1e3*60*60*24)+1}function de(t,l=0){const o=new Date(t.getFullYear(),t.getMonth()+1,0),v=l+t.getDate()-1,y=l+o.getDate()-1;return Math.floor(v/7)===Math.floor(y/7)}const[ve]=ut("calendar-day");var fe=at({name:ve,props:{item:Yt(Object),color:String,index:Number,offset:Nt(0),rowHeight:String},emits:["click","clickDisabledDate"],setup(t,{emit:l,slots:o}){const v=b(()=>{const{item:D,index:k,color:r,offset:R,rowHeight:c}=t,u={height:c};if(D.type==="placeholder")return u.width="100%",u;if(k===0&&(u.marginLeft=`${100*R/7}%`),r)switch(D.type){case"end":case"start":case"start-end":case"multiple-middle":case"multiple-selected":u.background=r;break;case"middle":u.color=r;break}return D.date&&de(D.date,R)&&(u.marginBottom=0),u}),y=()=>{t.item.type!=="disabled"?l("click",t.item):l("clickDisabledDate",t.item)},C=()=>{const{topInfo:D}=t.item;if(D||o["top-info"])return g("div",{class:x("top-info")},[o["top-info"]?o["top-info"](t.item):D])},S=()=>{const{bottomInfo:D}=t.item;if(D||o["bottom-info"])return g("div",{class:x("bottom-info")},[o["bottom-info"]?o["bottom-info"](t.item):D])},T=()=>o.text?o.text(t.item):t.item.text,W=()=>{const{item:D,color:k,rowHeight:r}=t,{type:R}=D,c=[C(),T(),S()];return R==="selected"?g("div",{class:x("selected-day"),style:{width:r,height:r,background:k}},[c]):c};return()=>{const{type:D,className:k}=t.item;return D==="placeholder"?g("div",{class:x("day"),style:v.value},null):g("div",{role:"gridcell",style:v.value,class:[x("day",D),k],tabindex:D==="disabled"?void 0:-1,onClick:y},[W()])}}});const[he]=ut("calendar-month"),me={date:Yt(Date),type:String,color:String,minDate:Date,maxDate:Date,showMark:Boolean,rowHeight:yt,formatter:Function,lazyRender:Boolean,currentDate:[Date,Array],allowSameDay:Boolean,showSubtitle:Boolean,showMonthTitle:Boolean,firstDayOfWeek:Number};var ge=at({name:he,props:me,emits:["click","clickDisabledDate"],setup(t,{emit:l,slots:o}){const[v,y]=Vt(),C=B(),S=B(),T=zt(S),W=b(()=>re(t.date)),D=b(()=>Ut(t.rowHeight)),k=b(()=>{const f=t.date.getDate(),h=(t.date.getDay()-f%7+8)%7;return t.firstDayOfWeek?(h+7-t.firstDayOfWeek)%7:h}),r=b(()=>ne(t.date.getFullYear(),t.date.getMonth()+1)),R=b(()=>v.value||!t.lazyRender),c=()=>W.value,u=f=>{const _=h=>t.currentDate.some(M=>E(M,h)===0);if(_(f)){const h=St(f),M=Ct(f),p=_(h),N=_(M);return p&&N?"multiple-middle":p?"end":N?"start":"multiple-selected"}return""},z=f=>{const[_,h]=t.currentDate;if(!_)return"";const M=E(f,_);if(!h)return M===0?"start":"";const p=E(f,h);return t.allowSameDay&&M===0&&p===0?"start-end":M===0?"start":p===0?"end":M>0&&p<0?"middle":""},w=f=>{const{type:_,minDate:h,maxDate:M,currentDate:p}=t;if(h&&E(f,h)<0||M&&E(f,M)>0)return"disabled";if(p===null)return"";if(Array.isArray(p)){if(_==="multiple")return u(f);if(_==="range")return z(f)}else if(_==="single")return E(f,p)===0?"selected":"";return""},O=f=>{if(t.type==="range"){if(f==="start"||f==="end")return J(f);if(f==="start-end")return`${J("start")}/${J("end")}`}},I=()=>{if(t.showMonthTitle)return g("div",{class:x("month-title")},[o["month-title"]?o["month-title"]({date:t.date,text:W.value}):W.value])},H=()=>{if(t.showMark&&R.value)return g("div",{class:x("month-mark")},[t.date.getMonth()+1])},j=b(()=>{const f=Math.ceil((r.value+k.value)/7);return Array(f).fill({type:"placeholder"})}),Q=b(()=>{const f=[],_=t.date.getFullYear(),h=t.date.getMonth();for(let M=1;M<=r.value;M++){const p=new Date(_,h,M),N=w(p);let tt={date:p,type:N,text:M,bottomInfo:O(N)};t.formatter&&(tt=t.formatter(tt)),f.push(tt)}return f}),X=b(()=>Q.value.filter(f=>f.type==="disabled")),Y=(f,_)=>{if(C.value){const h=Dt(C.value),M=j.value.length,N=(Math.ceil((_.getDate()+k.value)/7)-1)*h.height/M;jt(f,h.top+N+f.scrollTop-Dt(f).top)}},q=(f,_)=>g(fe,{item:f,index:_,color:t.color,offset:k.value,rowHeight:D.value,onClick:h=>l("click",h),onClickDisabledDate:h=>l("clickDisabledDate",h)},ct(o,["top-info","bottom-info","text"])),nt=()=>g("div",{ref:C,role:"grid",class:x("days")},[H(),(R.value?Q:j).value.map(q)]);return Ft({getTitle:c,getHeight:()=>T.value,setVisible:y,scrollToDate:Y,disabledDays:X}),()=>g("div",{class:x("month"),ref:S},[I(),nt()])}});const[be]=ut("calendar-header");var ye=at({name:be,props:{date:Date,minDate:Date,maxDate:Date,title:String,subtitle:String,showTitle:Boolean,showSubtitle:Boolean,firstDayOfWeek:Number,switchMode:rt("none")},emits:["clickSubtitle","panelChange"],setup(t,{slots:l,emit:o}){const v=b(()=>t.date&&t.minDate&&et(At(t.date),t.minDate)<0),y=b(()=>t.date&&t.minDate&&et(Wt(t.date),t.minDate)<0),C=b(()=>t.date&&t.maxDate&&et(Ot(t.date),t.maxDate)>0),S=b(()=>t.date&&t.maxDate&&et(It(t.date),t.maxDate)>0),T=()=>{if(t.showTitle){const c=t.title||J("title"),u=l.title?l.title():c;return g("div",{class:x("header-title")},[u])}},W=c=>o("clickSubtitle",c),D=c=>o("panelChange",c),k=c=>{const u=t.switchMode==="year-month",z=l[c?"next-month":"prev-month"],w=l[c?"next-year":"prev-year"],O=c?C.value:v.value,I=c?S.value:y.value,H=c?"arrow":"arrow-left",j=c?"arrow-double-right":"arrow-double-left",Q=()=>D((c?Ot:At)(t.date)),X=()=>D((c?It:Wt)(t.date)),Y=g("view",{class:x("header-action",{disabled:O}),onClick:O?void 0:Q},[z?z({disabled:O}):g(wt,{class:{[pt]:!O},name:H},null)]),q=u&&g("view",{class:x("header-action",{disabled:I}),onClick:I?void 0:X},[w?w({disabled:I}):g(wt,{class:{[pt]:!I},name:j},null)]);return c?[Y,q]:[q,Y]},r=()=>{if(t.showSubtitle){const c=l.subtitle?l.subtitle({date:t.date,text:t.subtitle}):t.subtitle,u=t.switchMode!=="none";return g("div",{class:x("header-subtitle",{"with-switch":u}),onClick:W},[u?[k(),g("div",{class:x("header-subtitle-text")},[c]),k(!0)]:c])}},R=()=>{const{firstDayOfWeek:c}=t,u=J("weekdays"),z=[...u.slice(c,7),...u.slice(0,c)];return g("div",{class:x("weekdays")},[z.map(w=>g("span",{class:x("weekday")},[w]))])};return()=>g("div",{class:x("header")},[T(),r(),R()])}});const De={show:Boolean,type:rt("single"),switchMode:rt("none"),title:String,color:String,round:K,readonly:Boolean,poppable:K,maxRange:qt(null),position:rt("bottom"),teleport:[String,Object],showMark:K,showTitle:K,formatter:Function,rowHeight:yt,confirmText:String,rangePrompt:String,lazyRender:K,showConfirm:K,defaultDate:[Date,Array],allowSameDay:Boolean,showSubtitle:K,closeOnPopstate:K,showRangePrompt:K,confirmDisabledText:String,closeOnClickOverlay:K,safeAreaInsetTop:Boolean,safeAreaInsetBottom:K,minDate:{type:Date,validator:kt},maxDate:{type:Date,validator:kt},firstDayOfWeek:{type:yt,default:0,validator:t=>t>=0&&t<=6}};var we=at({name:ce,props:De,emits:["select","confirm","unselect","monthShow","overRange","update:show","clickSubtitle","clickDisabledDate","clickOverlay","panelChange"],setup(t,{emit:l,slots:o}){const v=b(()=>t.switchMode!=="none"),y=b(()=>!t.minDate&&!v.value?it():t.minDate),C=b(()=>!t.maxDate&&!v.value?xt(it(),6):t.maxDate),S=(e,a=y.value,m=C.value)=>a&&E(e,a)===-1?a:m&&E(e,m)===1?m:e,T=(e=t.defaultDate)=>{const{type:a,allowSameDay:m}=t;if(e===null)return e;const n=it();if(a==="range"){Array.isArray(e)||(e=[]),e.length===1&&E(e[0],n)===1&&(e=[]);const P=y.value,F=C.value,G=S(e[0]||n,P,F?m?F:St(F):void 0),A=S(e[1]||(m?n:Ct(n)),P?m?P:Ct(P):void 0);return[G,A]}return a==="multiple"?Array.isArray(e)?e.map(P=>S(P)):[S(n)]:((!e||Array.isArray(e))&&(e=n),S(e))},W=()=>{const e=Array.isArray(r.value)?r.value[0]:r.value;return e||S(it())};let D;const k=B(),r=B(T()),R=B(W()),c=B(),[u,z]=ie(),w=b(()=>t.firstDayOfWeek?+t.firstDayOfWeek%7:0),O=b(()=>{const e=[];if(!y.value||!C.value)return e;const a=new Date(y.value);a.setDate(1);do e.push(new Date(a)),a.setMonth(a.getMonth()+1);while(et(a,C.value)!==1);return e}),I=b(()=>{if(r.value){if(t.type==="range")return!r.value[0]||!r.value[1];if(t.type==="multiple")return!r.value.length}return!r.value}),H=()=>r.value,j=()=>{const e=Qt(k.value),a=e+D,m=O.value.map((A,L)=>u.value[L].getHeight()),n=m.reduce((A,L)=>A+L,0);if(a>n&&e>0)return;let P=0,F;const G=[-1,-1];for(let A=0;A<O.value.length;A++){const L=u.value[A];P<=a&&P+m[A]>=e&&(G[1]=A,F||(F=L,G[0]=A),u.value[A].showed||(u.value[A].showed=!0,l("monthShow",{date:L.date,title:L.getTitle()}))),P+=m[A]}O.value.forEach((A,L)=>{const Tt=L>=G[0]-1&&L<=G[1]+1;u.value[L].setVisible(Tt)}),F&&(c.value=F)},Q=e=>{v.value?R.value=e:ht(()=>{O.value.some((a,m)=>et(a,e)===0?(k.value&&u.value[m].scrollToDate(k.value,e),!0):!1),j()})},X=()=>{if(!(t.poppable&&!t.show))if(r.value){const e=t.type==="single"?r.value:r.value[0];kt(e)&&Q(e)}else v.value||ht(j)},Y=()=>{t.poppable&&!t.show||(v.value||ht(()=>{D=Math.floor(Dt(k).height)}),X())},q=(e=T())=>{r.value=e,X()},nt=e=>{const{maxRange:a,rangePrompt:m,showRangePrompt:n}=t;return a&&ue(e)>+a?(n&&$t(m||J("rangePrompt",a)),l("overRange"),!1):!0},f=e=>{R.value=e,l("panelChange",{date:e})},_=()=>{var e;return l("confirm",(e=r.value)!=null?e:Bt(r.value))},h=(e,a)=>{const m=n=>{r.value=n,l("select",Bt(n))};if(a&&t.type==="range"&&!nt(e)){m([e[0],Mt(e[0],+t.maxRange-1)]);return}m(e),a&&!t.showConfirm&&_()},M=(e,a,m)=>{var n;return(n=e.find(P=>E(a,P.date)===-1&&E(P.date,m)===-1))==null?void 0:n.date},p=b(()=>u.value.reduce((e,a)=>{var m,n;return e.push(...(n=(m=a.disabledDays)==null?void 0:m.value)!=null?n:[]),e},[])),N=e=>{if(t.readonly||!e.date)return;const{date:a}=e,{type:m}=t;if(m==="range"){if(!r.value){h([a]);return}const[n,P]=r.value;if(n&&!P){const F=E(a,n);if(F===1){const G=M(p.value,n,a);if(G){const A=St(G);E(n,A)===-1?h([n,A]):h([a])}else h([n,a],!0)}else F===-1?h([a]):t.allowSameDay&&h([a,a],!0)}else h([a])}else if(m==="multiple"){if(!r.value){h([a]);return}const n=r.value,P=n.findIndex(F=>E(F,a)===0);if(P!==-1){const[F]=n.splice(P,1);l("unselect",ot(F))}else t.maxRange&&n.length>=+t.maxRange?$t(t.rangePrompt||J("rangePrompt",t.maxRange)):h([...n,a])}else h(a,!0)},tt=e=>l("clickOverlay",e),dt=e=>l("update:show",e),lt=(e,a)=>{const m=a!==0||!t.showSubtitle;return g(ge,Gt({ref:v.value?c:z(a),date:e,currentDate:r.value,showMonthTitle:m,firstDayOfWeek:w.value,lazyRender:v.value?!1:t.lazyRender,maxDate:C.value,minDate:y.value},ct(t,["type","color","showMark","formatter","rowHeight","showSubtitle","allowSameDay"]),{onClick:N,onClickDisabledDate:n=>l("clickDisabledDate",n)}),ct(o,["top-info","bottom-info","month-title","text"]))},vt=()=>{if(o.footer)return o.footer();if(t.showConfirm){const e=o["confirm-text"],a=I.value,m=a?t.confirmDisabledText:t.confirmText;return g(Jt,{round:!0,block:!0,type:"primary",color:t.color,class:x("confirm"),disabled:a,nativeType:"button",onClick:_},{default:()=>[e?e({disabled:a}):m||J("confirm")]})}},i=()=>g("div",{class:[x("footer"),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[vt()]),d=()=>{var e,a;return g("div",{class:x()},[g(ye,{date:(e=c.value)==null?void 0:e.date,maxDate:C.value,minDate:y.value,title:t.title,subtitle:(a=c.value)==null?void 0:a.getTitle(),showTitle:t.showTitle,showSubtitle:t.showSubtitle,switchMode:t.switchMode,firstDayOfWeek:w.value,onClickSubtitle:m=>l("clickSubtitle",m),onPanelChange:f},ct(o,["title","subtitle","prev-month","prev-year","next-month","next-year"])),g("div",{ref:k,class:x("body"),onScroll:v.value?void 0:j},[v.value?lt(R.value,0):O.value.map(lt)]),i()])};return ft(()=>t.show,Y),ft(()=>[t.type,t.minDate,t.maxDate,t.switchMode],()=>q(T(r.value))),ft(()=>t.defaultDate,e=>{q(e)}),Ft({reset:q,scrollToDate:Q,getSelectedDate:H}),Lt(Y),()=>t.poppable?g(Kt,{show:t.show,class:x("popup"),round:t.round,position:t.position,closeable:t.showTitle||t.showSubtitle,teleport:t.teleport,closeOnPopstate:t.closeOnPopstate,safeAreaInsetTop:t.safeAreaInsetTop,closeOnClickOverlay:t.closeOnClickOverlay,onClickOverlay:tt,"onUpdate:show":dt},{default:d}):d()}});const ke=Xt(we),Se={class:"shift-card"},Ce={class:"shift-card__header"},_e={class:"shift-card__time-title"},Me={class:"time"},xe={class:"position"},Te={class:"shift-card__status"},pe={class:"shift-card__location"},$e={class:"company"},Re={class:"address"},Pe={class:"shift-card__content"},Be={class:"content-item"},Ae={class:"content-item__text"},Oe={class:"content-item"},We={class:"content-item__text"},Ie={class:"shift-card__deadline"},Ye={class:"content-item"},Fe={class:"content-item__text"},He={class:"shift-card__actions"},Ee={class:"action-buttons"},Ne={class:"action-status"},Ve=at({__name:"ShiftCard",props:{timeRange:{},position:{},company:{},address:{},hourlyWage:{},hiredCount:{},totalCount:{},deadline:{},status:{},applicationStatus:{default:null},trafficInfo:{default:"捷運市政府站2號出口步行5分鐘,或搭乘公車至世貿站下車。"},contactPerson:{default:"王經理"},contactPhone:{default:"02-2345-6789"},contactEmail:{default:"manager@luxurycasino.com"},jobDescription:{default:"負責百家樂、21點等桌邊遊戲的發牌與桌面管理,維護遊戲秩序,確保遊戲公平進行。"},requirements:{default:()=>["需具備1年以上荷官經驗","熟悉百家樂、21點等遊戲規則","具備良好的數學計算能力","英語溝通能力佳"]},benefits:{default:()=>["提供員工餐點","交通津貼$200/日","績效獎金","免費制服清洗"]}},emits:["apply","withdraw","details"],setup(t,{emit:l}){const o=t,v=l,y=b(()=>{switch(o.status){case"open":return"status-tag--open";case"full":return"status-tag--full";case"closed":return"status-tag--closed";default:return"status-tag--open"}}),C=b(()=>{switch(o.status){case"open":return"開放";case"full":return"額滿";case"closed":return"已關閉";default:return"開放"}}),S=b(()=>{switch(o.applicationStatus){case"applied":return"status-badge--applied";case"not-hired":return"status-badge--not-hired";case"hired":return"status-badge--hired";default:return""}}),T=b(()=>{switch(o.applicationStatus){case"applied":return"已投遞";case"not-hired":return"未錄取";case"hired":return"已錄取";default:return""}}),W=b(()=>o.deadline),D=b(()=>o.status==="open"&&!o.applicationStatus),k=b(()=>o.applicationStatus==="applied"),r=()=>{v("apply","shift-id")},R=()=>{v("withdraw","shift-id")},c=B(!1),u=()=>{c.value=!0};return(z,w)=>(V(),U("div",Se,[g(oe,{show:c.value,"onUpdate:show":w[0]||(w[0]=O=>c.value=O),timeRange:t.timeRange,position:t.position,company:t.company,hourlyWage:t.hourlyWage,hiredCount:t.hiredCount,totalCount:t.totalCount,deadline:t.deadline,address:t.address,trafficInfo:t.trafficInfo,contactPerson:t.contactPerson,contactPhone:t.contactPhone,contactEmail:t.contactEmail,jobDescription:t.jobDescription,requirements:t.requirements,benefits:t.benefits},null,8,["show","timeRange","position","company","hourlyWage","hiredCount","totalCount","deadline","address","trafficInfo","contactPerson","contactPhone","contactEmail","jobDescription","requirements","benefits"]),s("div",Ce,[s("div",_e,[s("span",Me,$(t.timeRange),1),w[1]||(w[1]=s("span",{class:"separator"},"・",-1)),s("span",xe,$(t.position),1)]),s("div",Te,[s("span",{class:Z(["status-tag",y.value])},$(C.value),3)])]),s("div",pe,[s("span",$e,$(t.company),1),w[2]||(w[2]=s("span",{class:"separator"},"・",-1)),s("span",Re,$(t.address),1)]),s("div",Pe,[s("div",Be,[w[3]||(w[3]=s("div",{class:"content-item__icon"},[s("span",{class:"icon-dollar"},"$")],-1)),s("span",Ae,"時薪 $"+$(t.hourlyWage),1)]),s("div",Oe,[w[4]||(w[4]=s("div",{class:"content-item__icon"},[s("span",{class:"icon-people"},"👥")],-1)),s("span",We,$(t.hiredCount)+"/"+$(t.totalCount)+"人",1)])]),s("div",Ie,[s("div",Ye,[w[5]||(w[5]=s("div",{class:"content-item__icon"},[s("span",{class:"icon-clock"},"🕐")],-1)),s("span",Fe,"截止: "+$(W.value),1)])]),s("div",He,[s("div",Ee,[D.value?(V(),U("button",{key:0,class:"btn btn--apply",onClick:r}," 應徵 ")):st("",!0),k.value?(V(),U("button",{key:1,class:"btn btn--withdraw",onClick:R}," 撤回 ")):st("",!0),s("button",{class:"btn btn--details",onClick:u},[...w[6]||(w[6]=[s("span",{class:"btn-icon"},"📄",-1),Zt(" 詳細資料 ",-1)])])]),s("div",Ne,[t.applicationStatus?(V(),U("span",{key:0,class:Z(["status-badge",S.value])},$(T.value),3)):st("",!0)])])]))}}),ze=_t(Ve,[["__scopeId","data-v-f0af7d68"]]),Ue={class:"status-info"},je={class:"status-text"},qe={class:"status-message"},Le={class:"message-text"},Ke=at({__name:"ShiftStatusBanner",props:{status:{},date:{default:"今天"}},setup(t){const l=t,o=b(()=>`shift-status-banner--${l.status}`),v=b(()=>`${l.date} 班別狀況`),y=b(()=>{switch(l.status){case"available":return"尚有缺額";case"unavailable":return"暫無缺額";default:return"暫無缺額"}});return(C,S)=>(V(),U("div",{class:Z(["shift-status-banner",o.value])},[s("div",Ue,[S[0]||(S[0]=s("div",{class:"status-icon"},[s("span",{class:"icon-dot"})],-1)),s("span",je,$(v.value),1)]),s("div",qe,[s("span",Le,$(y.value),1)])],2))}}),Qe=_t(Ke,[["__scopeId","data-v-1e3cf57d"]]),Ge={class:"user-shifts"},Je={class:"filter-section"},Xe={class:"search-bar"},Ze={class:"date-selection"},ta={key:0,class:"week-dates"},ea=["onClick"],aa={class:"date-day"},na={class:"date-number"},sa={key:0,class:"date-dot"},oa={key:1,class:"full-calendar"},la={class:"calendar-month-controls"},ia=["disabled"],ca={class:"current-month"},ra=["disabled"],ua={style:{"z-index":"9"}},da={class:"content-container"},va={class:"search-update-filter-calendar"},fa={class:"test-controls"},ha={class:"shifts-list"},ma=at({name:"UserShiftsView",__name:"UserShiftsView",setup(t){const{showAlert:l,showConfirm:o,showSuccess:v,showError:y,showDangerConfirm:C}=le(),S=B([{id:"1",timeRange:"14:00-22:00",position:"發牌員",company:"星光娛樂城",address:"新北市板橋區",hourlyWage:450,hiredCount:5,totalCount:6,deadline:"今日13:00",status:"open",applicationStatus:"applied"},{id:"2",timeRange:"20:00-02:00",position:"百家樂荷官",company:"金沙會館",address:"台北市中山區",hourlyWage:600,hiredCount:12,totalCount:12,deadline:"",status:"full",applicationStatus:"not-hired"},{id:"3",timeRange:"18:00-23:00",position:"桌邊荷官",company:"豪華賭場",address:"台北市信義區",hourlyWage:500,hiredCount:8,totalCount:10,deadline:"今日17:00",status:"open",applicationStatus:null}]),T=B("unavailable"),W=B("今天"),D=()=>{const i=Y(H);i==="available"?T.value="available":i==="unavailable"&&(T.value="unavailable"),W.value="今天",R.value=H},k=B(""),r=B(!1),R=B(new Date),c=B(),u=B(new Date),z=B(!1),w=B(!1),O=B({"2025-08-31":"unavailable","2025-09-01":"unavailable","2025-09-02":"unavailable","2025-09-03":"unavailable","2025-09-04":"available","2025-09-05":"available","2025-09-06":"available","2025-09-07":"unavailable","2025-09-08":"unavailable","2025-09-09":"available","2025-09-10":"available","2025-09-11":"available","2025-09-12":"today","2025-09-13":"available","2025-09-14":"unavailable","2025-09-15":"available","2025-09-16":"available","2025-09-17":"unavailable","2025-09-18":"available","2025-09-19":"available","2025-09-20":"available","2025-09-21":"unavailable","2025-09-22":"available","2025-09-23":"available","2025-09-24":"available","2025-09-25":"available","2025-09-26":"available","2025-09-27":"available","2025-09-28":"available","2025-09-29":"available","2025-09-30":"unavailable","2025-10-01":"available","2025-10-02":"unavailable","2025-10-03":"available","2025-10-04":"available","2025-10-05":"available"}),I=i=>{const d=i.getFullYear(),e=String(i.getMonth()+1).padStart(2,"0"),a=String(i.getDate()).padStart(2,"0");return`${d}-${e}-${a}`},H=new Date,j=I(H),Q=()=>{const i=[],d=H.getDay();for(let e=0;e<7;e++){const a=new Date(H);a.setDate(H.getDate()-d+e),i.push(a)}return i},X=b(()=>Q()),Y=i=>{const d=I(i);return O.value[d]||""},q=i=>I(i)===j,nt=()=>{console.log("搜尋:",k.value)},f=()=>{console.log("刷新資料")},_=()=>{const i=new Date;N(i),u.value=new Date(i.getFullYear(),i.getMonth(),1),p(),r.value&&c.value&&bt(()=>{c.value?.scrollToDate?.(i)})},h=()=>{const i=new Date(u.value);i.setMonth(u.value.getMonth()-1),u.value=i,c.value&&bt(()=>{c.value?.scrollToDate?.(i)}),p()},M=()=>{const i=new Date(u.value);i.setMonth(u.value.getMonth()+1),u.value=i,c.value&&bt(()=>{c.value?.scrollToDate?.(i)}),p()},p=()=>{const i=new Date,d=u.value,e=new Date(i.getFullYear(),i.getMonth(),1),a=new Date(i.getFullYear(),i.getMonth()+6,1);z.value=d<=e,w.value=d>=a},N=i=>{R.value=i;const d=I(i),e=Y(i);e==="available"?T.value="available":e==="unavailable"&&(T.value="unavailable"),W.value=q(i)?"今天":`${i.getMonth()+1}/${i.getDate()}`,console.log("選擇日期:",d,"狀態:",e)},tt=()=>{r.value=!r.value};te(()=>{D(),p()});const dt=async i=>{if(console.log("應徵班表:",i),await o({title:"應徵確認",message:"確定要應徵這個班表嗎？",confirmButtonText:"確認應徵",cancelButtonText:"取消"}))try{await v("應徵成功！請等待商家審核結果。");const e=S.value.find(a=>a.id===i);e&&(e.applicationStatus="applied")}catch{await y("應徵失敗，請稍後再試。")}},lt=async i=>{if(console.log("撤回班表:",i),await C("確定要撤回這個班表的應徵嗎？"))try{await v("已成功撤回應徵。");const e=S.value.find(a=>a.id===i);e&&(e.applicationStatus=null)}catch{await y("撤回失敗，請稍後再試。")}},vt=async i=>{console.log("查看詳細資料:",i);const d=S.value.find(e=>e.id===i);d&&await l({title:"班表詳細資料",message:`
			職位：${d.position}
			公司：${d.company}
			地址：${d.address}
			時段：${d.timeRange}
			時薪：$${d.hourlyWage}
			已錄取：${d.hiredCount}/${d.totalCount} 人
			截止時間：${d.deadline||"無"}
		`.trim()})};return(i,d)=>{const e=se,a=wt,m=ke;return V(),U("div",Ge,[s("div",Je,[s("div",Xe,[g(e,{modelValue:k.value,"onUpdate:modelValue":d[0]||(d[0]=n=>k.value=n),placeholder:"搜尋職位/商家",onSearch:nt,onClear:nt,shape:"round",background:"#f7f8fa"},null,8,["modelValue"]),s("div",{class:"today-button",onClick:_},[s("span",null,"今天 "+$(mt(H).getMonth()+1)+"/"+$(mt(H).getDate()),1)]),s("div",{class:"refresh-button",onClick:f},[...d[3]||(d[3]=[s("span",null,"↻",-1)])])]),s("div",Ze,[d[5]||(d[5]=s("div",{class:"date-title"},"日期選擇",-1)),s("div",{class:"calendar-toggle",onClick:tt},[d[4]||(d[4]=s("span",null,"📅",-1)),s("span",null,$(r.value?"收合日曆":"展開日曆"),1)])]),r.value?st("",!0):(V(),U("div",ta,[(V(!0),U(Rt,null,Pt(X.value,n=>(V(),U("div",{key:I(n),class:Z(["date-item",`date-item--${Y(n)}`,{"date-item--today":q(n)}]),onClick:P=>N(n)},[s("div",aa,$(["日","一","二","三","四","五","六"][n.getDay()]),1),s("div",na,$(n.getDate()),1),Y(n)!=="today"?(V(),U("div",sa)):st("",!0)],10,ea))),128))])),r.value?(V(),U("div",oa,[s("div",la,[s("button",{class:"month-btn month-btn--prev",disabled:z.value,onClick:h},[g(a,{name:"arrow-left"})],8,ia),s("div",ca,$(u.value.getFullYear())+"年"+$(u.value.getMonth()+1)+"月 ",1),s("button",{class:"month-btn month-btn--next",disabled:w.value,onClick:M},[g(a,{name:"arrow-left",style:{transform:"rotate(-180deg)"}})],8,ra)]),g(m,{ref_key:"calendarRef",ref:c,"switch-mode":"month",onConfirm:N,"show-confirm":!0,poppable:!1,"show-mark":!1,"show-subtitle":!0,"show-title":!1,"default-date":R.value},{"top-info":gt(n=>[s("div",{class:Z({"available-top-info":Y(n.date)==="available","unavailable-top-info":Y(n.date)==="unavailable","today-top-info":I(n.date)===mt(j)}),style:{display:"inline-block",width:"95%",height:"100%"}},null,2)]),text:gt(n=>[s("p",ua,$(n.text),1)]),"bottom-info":gt(n=>[s("span",{class:Z(Y(n.date)==="available"?"available":"unavailable"),style:{width:"5px",height:"5px","border-radius":"50%",display:"inline-block"}},null,2)]),_:1},8,["default-date"])])):st("",!0),d[6]||(d[6]=ee('<div class="status-legend" data-v-8af342ff><div class="legend-item" data-v-8af342ff><div class="legend-dot legend-dot--available" data-v-8af342ff></div><span data-v-8af342ff>有缺額</span></div><div class="legend-item" data-v-8af342ff><div class="legend-dot legend-dot--unavailable" data-v-8af342ff></div><span data-v-8af342ff>無缺額</span></div><div class="legend-item" data-v-8af342ff><div class="legend-dot legend-dot--today" data-v-8af342ff></div><span data-v-8af342ff>今天</span></div></div>',1))]),s("div",da,[s("div",va,[s("div",fa,[s("button",{onClick:d[1]||(d[1]=n=>T.value="available"),class:Z([{active:T.value==="available"},"test-btn test-btn--available"])}," 尚有缺額 ",2),s("button",{onClick:d[2]||(d[2]=n=>T.value="unavailable"),class:Z([{active:T.value==="unavailable"},"test-btn test-btn--unavailable"])}," 暫無缺額 ",2)])]),g(Qe,{status:T.value,date:W.value},null,8,["status","date"]),s("div",ha,[(V(!0),U(Rt,null,Pt(S.value,n=>(V(),ae(ze,{key:n.id,"time-range":n.timeRange,position:n.position,company:n.company,address:n.address,"hourly-wage":n.hourlyWage,"hired-count":n.hiredCount,"total-count":n.totalCount,deadline:n.deadline,status:n.status,"application-status":n.applicationStatus,onApply:dt,onWithdraw:lt,onDetails:vt},null,8,["time-range","position","company","address","hourly-wage","hired-count","total-count","deadline","status","application-status"]))),128))])])])}}}),Ca=_t(ma,[["__scopeId","data-v-8af342ff"]]);export{Ca as default};
