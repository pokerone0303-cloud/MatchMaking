import{d as q,r as t,g as L,l as h,q as a,e as l,I as R,v as T,x as $,y as m,B as I,z as N,A as b,C as k,D as P,E as n,G as w,H as x,_ as D}from"./index-BJHUlza-.js";import{F as E}from"./index-DcpnJfoS.js";import{F as H}from"./index-BsUUzfIK.js";const K={class:"page-container login-container"},S={class:"login-card"},U={class:"login-header"},A={class:"login-icon"},G={class:"role-tabs"},O=["onClick"],j={class:"help-section"},J=q({name:"LoginView",__name:"index",setup(M){const i=t("user"),r=t(""),p=t(""),u=t(!1),v=t(!1),o=P(),g=[{key:"user",label:"荷官端",icon:"user-o"},{key:"employer",label:"商家端",icon:"shop-o"},{key:"admin",label:"管理端",icon:"shield-o"}],V=L(()=>`登入${g.find(e=>e.key===i.value)?.label}`),C=()=>r.value?p.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.value)?!0:(n("請輸入正確的電子信箱格式"),!1):(n("請輸入您的密碼"),!1):(n("請輸入您的電子信箱"),!1),f=async()=>{if(C()){v.value=!0;try{switch(await new Promise(c=>setTimeout(c,1e3)),i.value){case"user":o.push("/u/shifts");break;case"employer":o.push("/e/shifts");break;case"admin":o.push("/a/audit");break;default:o.push("/")}n("登入成功")}catch{n("登入失敗，請稍後再試")}finally{v.value=!1}}},z=()=>{u.value=!u.value},B=()=>{o.push("/help")};return(c,e)=>{const d=R,_=E,y=I,F=H;return w(),h("div",K,[a("div",S,[a("div",U,[a("div",A,[l(d,{name:"user-circle-o",size:"60",color:"#155dfc"})]),e[2]||(e[2]=a("h1",{class:"login-title"},"歡迎登入",-1)),e[3]||(e[3]=a("p",{class:"login-subtitle"},"選擇您的身份類型並登入系統",-1))]),a("div",G,[(w(),h(T,null,$(g,s=>a("div",{key:s.key,class:x(["role-tab",{active:i.value===s.key}]),onClick:Q=>i.value=s.key},[l(d,{name:s.icon,size:"20",class:x(`role-icon role-icon--${s.key}`)},null,8,["name","class"]),a("span",null,k(s.label),1)],10,O)),64))]),l(F,{onSubmit:f,class:"login-form"},{default:m(()=>[l(_,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),name:"email",label:"電子信箱",placeholder:"請輸入您的電子信箱",type:"email",rules:[{required:!0,message:"請輸入電子信箱"}],class:"login-field","label-align":"top"},null,8,["modelValue"]),l(_,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=s=>p.value=s),name:"password",label:"密碼",placeholder:"請輸入您的密碼",type:u.value?"text":"password",rules:[{required:!0,message:"請輸入密碼"}],class:"login-field","label-align":"top",onKeyup:N(f,["enter"])},{"right-icon":m(()=>[l(d,{name:u.value?"eye-o":"closed-eye",onClick:z,class:"password-toggle"},null,8,["name"])]),_:1},8,["modelValue","type"]),l(y,{type:"primary",size:"large",loading:v.value,"loading-text":"登入中...",onClick:f,class:"login-button"},{default:m(()=>[b(k(V.value),1)]),_:1},8,["loading"])]),_:1}),a("div",j,[l(y,{type:"default",size:"small",class:"help-button",onClick:B},{default:m(()=>[l(d,{name:"question-o",size:"16"}),e[4]||(e[4]=b(" 幫助中心 ",-1))]),_:1})])])])}}}),Z=D(J,[["__scopeId","data-v-d32218b7"]]);export{Z as default};
