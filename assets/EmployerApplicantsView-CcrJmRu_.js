import{A as D}from"./ApplicantCard-Defg49VX.js";import{F}from"./FilterHeader-Cav0OB8i.js";import{u as S}from"./useDialog-DeMrp14P.js";import{d as V,r as o,g as B,Q as H,l as c,e as E,q as d,v,x as h,H as N,A as R,N as M,C as f,M as $,G as s,_ as q}from"./index-D9wYTDFn.js";import"./index-BCIUGFk7.js";import"./index-tX8Cw9F2.js";import"./index-BQwdpVRO.js";import"./index-lwjahPF6.js";import"./index-Cxlnchgb.js";const z={class:"employer-applicants"},G={class:"content-container"},I={class:"status-filter-buttons"},L=["onClick"],O={key:0,class:"count-badge"},Q={class:"applicants-list"},U=V({name:"EmployerApplicantsView",__name:"EmployerApplicantsView",setup(J){const{showConfirm:g,showSuccess:m,showDangerConfirm:y}=S(),a=o([{id:"1",name:"張小明",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:3,rating:4.8,skills:["百家樂","21點","輪盤"],workAreas:["台北市","新北市"],phone:"0912-345-678",email:"ming@example.com",applicationTime:"2024-09-10 15:30",totalHours:120,joinDate:"2024-01-01",lastActivity:"2024-09-14",status:"pending"},{id:"2",name:"李美華",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:5,rating:4.9,skills:["百家樂","德州撲克"],workAreas:["台北市"],phone:"0987-654-321",email:"hua@example.com",applicationTime:"2024-09-10 16:45",totalHours:250,joinDate:"2023-06-01",lastActivity:"2024-09-15",status:"accepted"},{id:"3",name:"王大偉",position:"發牌員",shiftDate:"2024-09-16",startTime:"14:00",endTime:"22:00",experience:2,rating:4.5,skills:["21點","輪盤"],workAreas:["新北市"],phone:"0923-456-789",email:"david@example.com",applicationTime:"2024-09-11 09:20",totalHours:80,joinDate:"2024-03-01",lastActivity:"2024-09-13",status:"rejected"},{id:"4",name:"陳小芳",position:"百家樂荷官",shiftDate:"2024-09-15",startTime:"20:00",endTime:"02:00",experience:4,rating:4.7,skills:["百家樂","輪盤"],workAreas:["台北市","新北市","桃園市"],phone:"0955-123-456",email:"fang@example.com",applicationTime:"2024-09-09 14:15",totalHours:180,joinDate:"2023-09-01",lastActivity:"2024-09-14",status:"pending"}]),i=o("all"),_=o([{label:"全部",value:"all"},{label:"待審",value:"pending"},{label:"已錄取",value:"accepted"},{label:"已拒絕",value:"rejected"}]),p=o({all:0,pending:0,accepted:0,rejected:0}),n=o({fields:[{type:"search",key:"search",label:"搜尋",placeholder:"搜尋職位/商家",width:"full"},{type:"select",key:"status",label:"狀態",placeholder:"選擇狀態",width:"half",options:[{text:"全部狀態",value:"all"},{text:"尚有缺額",value:"available"},{text:"暫無缺額",value:"unavailable"}]},{type:"select",key:"position",label:"職位",placeholder:"選擇職位",width:"half",options:[{text:"全部職位",value:"all"},{text:"發牌員",value:"dealer"},{text:"百家樂荷官",value:"baccarat"},{text:"桌邊荷官",value:"table"}]},{type:"date",key:"date",label:"工作日期",placeholder:"選擇日期",width:"half"},{type:"select",key:"sortBy",label:"排序",placeholder:"選擇排序方式",width:"half",options:[{text:"最新到最舊",value:"newest"},{text:"最舊到最新",value:"oldest"},{text:"時薪高到低",value:"wage_high"},{text:"時薪低到高",value:"wage_low"}]}],values:{search:"",status:"all",position:"all",date:"",sortBy:"newest"}}),u=()=>{const e={all:a.value.length,pending:0,accepted:0,rejected:0};a.value.forEach(l=>{switch(l.status){case"pending":e.pending++;break;case"accepted":e.accepted++;break;case"rejected":e.rejected++;break}}),p.value=e},w=e=>{i.value=e},k=B(()=>i.value==="all"?a.value:a.value.filter(e=>e.status===i.value)),x=(e,l)=>{n.value={...n.value,values:{...n.value.values,[e]:l}}},b=e=>{console.log("搜尋:",e)},A=()=>{console.log("切換篩選選單")},T=()=>{n.value.values={search:"",status:"all"},i.value="all"},j=async e=>{if(await g({title:"確認錄取",message:"確定要錄取此應徵者嗎？"})){const t=a.value.find(r=>r.id===e);t&&(t.status="accepted",await m("已錄取應徵者"),u())}},C=async e=>{if(await y("確定要拒絕此應徵者嗎？","確認拒絕")){const t=a.value.find(r=>r.id===e);t&&(t.status="rejected",await m("已拒絕應徵者"),u())}};return H(()=>{u()}),(e,l)=>(s(),c("div",z,[E(F,{title:"應徵名單","filter-config":n.value,sticky:!0,"show-title":!1,onUpdateFilter:x,onSearch:b,onToggleFilter:A,onReset:T},null,8,["filter-config"]),d("div",G,[d("div",I,[(s(!0),c(v,null,h(_.value,t=>(s(),c("button",{key:t.value,onClick:r=>w(t.value),class:N([{active:i.value===t.value,[`status-btn--${t.value}`]:!0},"status-btn"])},[R(f(t.label)+" ",1),p.value[t.value]>0?(s(),c("span",O," ("+f(p.value[t.value])+") ",1)):M("",!0)],10,L))),128))]),d("div",Q,[(s(!0),c(v,null,h(k.value,t=>(s(),$(D,{key:t.id,applicant:t,onAccept:j,onReject:C},null,8,["applicant"]))),128))])])]))}}),le=q(U,[["__scopeId","data-v-f12bc691"]]);export{le as default};
