import{d as O,r as y,L as tt,Y as z,a7 as J,w as M,b as e,a as C,e as f,I as G,F as j,f as H,T as Y,n as L,t as g,B as et,g as N,P as K,o as h,_ as Q,c as F,U as at}from"./index-K-9wvg5E.js";/* empty css              */import{S as ot}from"./ShiftDetailsDialog-BHvnuKaH.js";import"./index-R9REr-6p.js";import{F as lt}from"./index-C6rNtyvH.js";import{T as nt}from"./index-BkHbwBm9.js";import{D as st}from"./index-Bj_5OvyO.js";import{A as it}from"./ApplicantCard-DYc4Sq6x.js";import{F as ct}from"./FilterHeader-DFU8H3xr.js";import{u as dt}from"./useDialog-BO8MixjU.js";import"./index-BmPhYbYV.js";import"./index-B44WjXQ1.js";const rt={class:"dialog-title"},ut={class:"edit-shift-dialog__content"},pt={class:"edit-shift-dialog__form"},ht={class:"edit-shift-dialog__form-grid"},mt={class:"edit-shift-dialog__label"},vt={class:"edit-shift-dialog__label"},ft={class:"edit-shift-dialog__label"},gt={class:"edit-shift-dialog__label"},_t={class:"edit-shift-dialog__actions"},yt=O({__name:"EditShiftDialog",props:{show:{type:Boolean},shiftData:{default:()=>({workDate:"",startTime:"",endTime:"",position:"",location:"",hourlyWage:0,requiredStaff:0,deadline:""})}},emits:["update:show","update","cancel"],setup(s,{emit:q}){const i=s,_=q,p=y({fields:[{key:"workDate",label:"工作日期",type:"date",placeholder:"請選擇工作日期",width:"full"},{key:"startTime",label:"起始時間",type:"time",placeholder:"請選擇起始時間",width:"half"},{key:"endTime",label:"結束時間",type:"time",placeholder:"請選擇結束時間",width:"half"},{key:"position",label:"職位",type:"text",placeholder:"請輸入職位",width:"full"},{key:"location",label:"地點",type:"text",placeholder:"請輸入地點",width:"full"},{key:"hourlyWage",label:"時薪",type:"number",placeholder:"請輸入時薪",min:0,step:1,width:"half"},{key:"requiredStaff",label:"需求人數",type:"number",placeholder:"請輸入需求人數",min:1,step:1,width:"half"},{key:"deadline",label:"應徵截止時間",type:"date",placeholder:"請選擇截止時間",width:"full"}],values:{}}),D=y({}),m=y({}),b=y({});tt(()=>i.shiftData,a=>{a&&(p.value.values={workDate:a.workDate||"",startTime:a.startTime||"",endTime:a.endTime||"",position:a.position||"",location:a.location||"",hourlyWage:a.hourlyWage||0,requiredStaff:a.requiredStaff||0,deadline:a.deadline||""})},{immediate:!0,deep:!0});const x=(a,l)=>!l&&l!==0?a.placeholder||a.label:a.type==="date"?l?new Date(l).toLocaleDateString("zh-TW",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\//g,"/"):a.placeholder||"yyyy/月/dd":a.type==="time"?l?l.toString():a.placeholder||"HH:mm":a.type==="number"||a.type==="text"?l.toString():a.placeholder||a.label,$=a=>{const l=p.value.fields.find(u=>u.key===a);if(l){if(l.type==="date"){const u=p.value.values[a];if(u){let c;if(typeof u=="string")if(u.includes("/")){const[S,P,E]=u.split("/");c=new Date(parseInt(S),parseInt(P)-1,parseInt(E))}else u.includes("-")?c=new Date(u):c=new Date(u);else c=new Date(u);isNaN(c.getTime())&&(c=new Date),m.value[a]=[c.getFullYear().toString(),(c.getMonth()+1).toString().padStart(2,"0"),c.getDate().toString().padStart(2,"0")]}else{const c=new Date;m.value[a]=[c.getFullYear().toString(),(c.getMonth()+1).toString().padStart(2,"0"),c.getDate().toString().padStart(2,"0")]}}else if(l.type==="time"){const u=p.value.values[a];if(u){const c=u.toString(),[S,P]=c.split(":"),E=parseInt(S)||0,k=parseInt(P)||0;b.value[a]=[Math.max(0,Math.min(23,E)).toString().padStart(2,"0"),Math.max(0,Math.min(59,k)).toString().padStart(2,"0")]}else{const c=new Date;b.value[a]=[c.getHours().toString().padStart(2,"0"),c.getMinutes().toString().padStart(2,"0")]}}D.value[a]=!0}},U=a=>{D.value[a]=!1},R=a=>{const l=m.value[a.key];if(l&&l.length>=3){const[u,c,S]=l,P=`${u}-${c.padStart(2,"0")}-${S.padStart(2,"0")}`;w(a,P)}U(a.key)},V=a=>{const l=b.value[a.key];if(l&&l.length>=2){const[u,c]=l,S=`${u.padStart(2,"0")}:${c.padStart(2,"0")}`;w(a,S)}U(a.key)},w=(a,l)=>{p.value.values[a.key]=l},W=()=>{_("update:show",!1)},B=()=>{_("cancel"),W()},T=()=>{p.value&&p.value.values&&(_("update",p.value.values),W())};return(a,l)=>{const u=G,c=lt,S=et,P=st,E=K,k=nt,r=J;return h(),z(r,{show:s.show,"show-cancel-button":!1,"show-confirm-button":!1,class:"edit-shift-dialog",onClose:W,"onUpdate:show":l[1]||(l[1]=t=>_("update:show",t))},{default:M(()=>[e("div",rt,[f(u,{name:"notes-o",size:"16",color:"black"}),l[2]||(l[2]=e("h3",{class:"dialog-title-text"}," 編輯班別 ",-1)),e("div",{class:"close-button",onClick:l[0]||(l[0]=t=>a.$emit("update:show",!1))},[f(u,{name:"close",size:"16",color:"black"})])]),e("div",ut,[e("div",pt,[e("div",ht,[(h(!0),C(j,null,H(p.value.fields,t=>(h(),C(j,{key:t.key},[t.type==="date"?(h(),C("div",{key:0,class:L(["edit-shift-dialog__form-item",`edit-shift-dialog__form-item--${t.width||"half"}`])},[e("label",mt,g(t.label),1),f(c,{"model-value":x(t,p.value.values[t.key]),placeholder:t.placeholder||t.label,readonly:"",onClick:v=>$(t.key),class:"edit-shift-dialog__date-input"},null,8,["model-value","placeholder","onClick"])],2)):t.type==="time"?(h(),C("div",{key:1,class:L(["edit-shift-dialog__form-item",`edit-shift-dialog__form-item--${t.width||"half"}`])},[e("label",vt,g(t.label),1),f(c,{"model-value":x(t,p.value.values[t.key]),placeholder:t.placeholder||t.label,readonly:"",onClick:v=>$(t.key),class:"edit-shift-dialog__time-input"},null,8,["model-value","placeholder","onClick"])],2)):t.type==="number"?(h(),C("div",{key:2,class:L(["edit-shift-dialog__form-item",`edit-shift-dialog__form-item--${t.width||"half"}`])},[e("label",ft,g(t.label),1),f(c,{"model-value":p.value.values[t.key],type:"number",placeholder:t.placeholder||t.label,min:t.min,max:t.max,step:t.step,"onUpdate:modelValue":v=>w(t,v),class:"edit-shift-dialog__number-input"},null,8,["model-value","placeholder","min","max","step","onUpdate:modelValue"])],2)):t.type==="text"?(h(),C("div",{key:3,class:L(["edit-shift-dialog__form-item",`edit-shift-dialog__form-item--${t.width||"half"}`])},[e("label",gt,g(t.label),1),f(c,{"model-value":p.value.values[t.key],type:"text",placeholder:t.placeholder||t.label,"onUpdate:modelValue":v=>w(t,v),class:"edit-shift-dialog__text-input"},null,8,["model-value","placeholder","onUpdate:modelValue"])],2)):Y("",!0)],64))),128))])]),e("div",_t,[f(S,{type:"primary",size:"small",class:"edit-shift-dialog__update-btn",onClick:T},{default:M(()=>[...l[3]||(l[3]=[N(" 更新 ",-1)])]),_:1}),f(S,{type:"default",size:"small",class:"edit-shift-dialog__cancel-btn",onClick:B},{default:M(()=>[...l[4]||(l[4]=[N(" 取消 ",-1)])]),_:1})])]),(h(!0),C(j,null,H(p.value.fields,t=>(h(),C(j,{key:`picker-${t.key}`},[t.type==="date"?(h(),z(E,{key:0,show:D.value[t.key],"onUpdate:show":v=>D.value[t.key]=v,position:"bottom","destroy-on-close":"",round:""},{default:M(()=>[f(P,{modelValue:m.value[t.key],"onUpdate:modelValue":v=>m.value[t.key]=v,onConfirm:()=>R(t),onCancel:()=>U(t.key)},null,8,["modelValue","onUpdate:modelValue","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):Y("",!0),t.type==="time"?(h(),z(E,{key:1,show:D.value[t.key],"onUpdate:show":v=>D.value[t.key]=v,position:"bottom","destroy-on-close":"",round:""},{default:M(()=>[f(k,{modelValue:b.value[t.key],"onUpdate:modelValue":v=>b.value[t.key]=v,onConfirm:()=>V(t),onCancel:()=>U(t.key)},null,8,["modelValue","onUpdate:modelValue","onConfirm","onCancel"])]),_:2},1032,["show","onUpdate:show"])):Y("",!0)],64))),128))]),_:1},8,["show"])}}}),bt=Q(yt,[["__scopeId","data-v-b1333682"]]),wt={class:"applicant-list-dialog"},kt={class:"applicant-list-dialog__header"},Ct={class:"applicant-list-dialog__info"},St={class:"applicant-list-dialog__info-content"},$t={class:"applicant-list-dialog__date-time"},Dt={class:"applicant-list-dialog__position"},xt={class:"applicant-list-dialog__count"},Tt={class:"applicant-list-dialog__content"},Vt=O({__name:"ApplicantListDialog",props:{visible:{type:Boolean},shift:{default:null}},emits:["update:visible","close","accept","reject"],setup(s,{emit:q}){const i=s,_=q,p=F(()=>i.shift?[{id:"1",name:"張小明",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:3,rating:4.8,skills:["百家樂","21點","輪盤"],phone:"0912-345-678",email:"ming@example.com",applicationTime:"2024-09-10 15:30",status:"pending"},{id:"2",name:"李美華",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:5,rating:4.9,skills:["百家樂","德州撲克"],phone:"0987-654-321",email:"hua@example.com",applicationTime:"2024-09-10 16:45",status:"waiting"},{id:"3",name:"王大偉",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:2,rating:4.5,skills:["21點","輪盤"],phone:"0923-456-789",email:"david@example.com",applicationTime:"2024-09-11 09:20",status:"accepted"}]:[]),D=F(()=>i.shift?new Date(i.shift.date).toLocaleDateString("zh-TW",{month:"numeric",day:"numeric"}):""),m=F(()=>i.shift?`${i.shift.startTime}-${i.shift.endTime}`:""),b=F(()=>`${p.value.length}/10`),x=()=>{_("update:visible",!1),_("close")},$=()=>{x()},U=V=>{_("accept",V)},R=V=>{_("reject",V)};return(V,w)=>{const W=G,B=K;return h(),z(B,{show:s.visible,position:"center",style:{width:"90dvw",height:"90dvh",maxWidth:"768px"},round:"",closeable:"","close-icon-position":"top-right",onClose:x,onClickOverlay:$},{default:M(()=>[e("div",wt,[e("div",kt,[w[0]||(w[0]=e("h2",{class:"applicant-list-dialog__title"},"應徵名單",-1)),e("div",{class:"close-button",onClick:x},[f(W,{name:"close",size:"16",color:"black"})])]),e("div",Ct,[e("div",St,[e("div",$t,g(D.value)+" · "+g(m.value),1),e("div",Dt,g(s.shift?.title)+" · "+g(s.shift?.location),1),e("div",xt,"應徵人數 : "+g(b.value),1)])]),e("div",Tt,[(h(!0),C(j,null,H(p.value,T=>(h(),z(it,{key:T.id,applicant:T,onAccept:U,onReject:R},null,8,["applicant"]))),128))])])]),_:1},8,["show"])}}}),Wt=Q(Vt,[["__scopeId","data-v-5c7a2990"]]),Pt={class:"shift-card"},Ut={class:"shift-card__header"},Et={class:"shift-card__time-title"},Ft={class:"time"},Rt={class:"position"},At={class:"shift-card__status"},It={class:"shift-card__location"},qt={class:"company"},Bt={class:"address"},jt={class:"shift-card__content"},Mt={class:"content-item"},Lt={class:"content-item__text"},zt={class:"content-item"},Nt={class:"content-item__text"},Ht={class:"shift-card__deadline"},Yt={class:"content-item"},Ot={class:"content-item__text"},Qt={class:"shift-card__actions"},Gt={class:"action-buttons"},Jt=O({__name:"EShiftCard",props:{timeRange:{},position:{},company:{},address:{},hourlyWage:{},hiredCount:{},totalCount:{},deadline:{},status:{},applicationStatus:{default:null},trafficInfo:{default:"捷運市政府站2號出口步行5分鐘,或搭乘公車至世貿站下車。"},contactPerson:{default:"王經理"},contactPhone:{default:"02-2345-6789"},contactEmail:{default:"manager@luxurycasino.com"},jobDescription:{default:"負責百家樂、21點等桌邊遊戲的發牌與桌面管理,維護遊戲秩序,確保遊戲公平進行。"},requirements:{default:()=>["需具備1年以上荷官經驗","熟悉百家樂、21點等遊戲規則","具備良好的數學計算能力","英語溝通能力佳"]},benefits:{default:()=>["提供員工餐點","交通津貼$200/日","績效獎金","免費制服清洗"]}},emits:["apply","withdraw","details","viewList","edit","delete"],setup(s,{emit:q}){const i=s,_=q,p=F(()=>{switch(i.status){case"open":return"status-tag--open";case"full":return"status-tag--full";case"closed":return"status-tag--closed";case"draft":return"status-tag--draft";default:return"status-tag--open"}}),D=F(()=>{switch(i.status){case"open":return"開放";case"full":return"額滿";case"closed":return"已關閉";case"draft":return"草稿";default:return"開放"}}),m=F(()=>i.deadline),b=y(!1),x=y(!1),$=y(!1),U=F(()=>({id:"shift-001",date:"2024-09-15",startTime:"18:00",endTime:"23:00",title:i.position,location:i.address,address:i.address,wage:i.hourlyWage,quota:i.totalCount,appliedCount:i.hiredCount,employerId:"employer-001",status:i.status,deadline:"2024/09/15 下午05:00",description:i.jobDescription,requirements:i.requirements,benefits:i.benefits,contactPerson:i.contactPerson,contactPhone:i.contactPhone,contactEmail:i.contactEmail,trafficInfo:i.trafficInfo})),R=F(()=>({workDate:"2024/09/15",startTime:"18:00",endTime:"23:00",position:i.position,location:i.address,hourlyWage:i.hourlyWage,requiredStaff:i.totalCount,deadline:"2024/09/15 下午05:00"})),V=()=>{$.value=!0},w=()=>{x.value=!0},W=()=>{T.value=!0},B=()=>{b.value=!0},T=y(!1),a=()=>{_("delete","shift-id"),T.value=!1},l=()=>{T.value=!1},u=k=>{console.log("更新班別數據:",k),k&&typeof k=="object"&&_("edit","shift-id",k)},c=()=>{console.log("取消編輯")},S=()=>{console.log("關閉應徵名單對話框")},P=k=>{console.log("錄取應徵者:",k)},E=k=>{console.log("拒絕應徵者:",k)};return(k,r)=>{const t=J,v=G;return h(),C("div",Pt,[f(ot,{show:b.value,"onUpdate:show":r[0]||(r[0]=A=>b.value=A),timeRange:s.timeRange,position:s.position,company:s.company,hourlyWage:s.hourlyWage,hiredCount:s.hiredCount,totalCount:s.totalCount,deadline:s.deadline,address:s.address,trafficInfo:s.trafficInfo,contactPerson:s.contactPerson,contactPhone:s.contactPhone,contactEmail:s.contactEmail,jobDescription:s.jobDescription,requirements:s.requirements,benefits:s.benefits},null,8,["show","timeRange","position","company","hourlyWage","hiredCount","totalCount","deadline","address","trafficInfo","contactPerson","contactPhone","contactEmail","jobDescription","requirements","benefits"]),f(bt,{show:x.value,"shift-data":R.value,"onUpdate:show":r[1]||(r[1]=A=>x.value=A),onUpdate:u,onCancel:c},null,8,["show","shift-data"]),f(Wt,{visible:$.value,shift:U.value,"onUpdate:visible":r[2]||(r[2]=A=>$.value=A),onClose:S,onAccept:P,onReject:E},null,8,["visible","shift"]),f(t,{show:T.value,"onUpdate:show":r[3]||(r[3]=A=>T.value=A),title:"確認刪除",message:"確定要刪除這個班別嗎?此操作無法復原。","show-cancel-button":"","confirm-button-text":"確認刪除","cancel-button-text":"取消","confirm-button-color":"#fb2c36",onConfirm:a,onCancel:l},null,8,["show"]),e("div",Ut,[e("div",Et,[e("span",Ft,g(s.timeRange),1),r[4]||(r[4]=e("span",{class:"separator"},"・",-1)),e("span",Rt,g(s.position),1)]),e("div",At,[e("span",{class:L(["status-tag",p.value])},g(D.value),3)])]),e("div",It,[e("span",qt,g(s.company),1),r[5]||(r[5]=e("span",{class:"separator"},"・",-1)),e("span",Bt,g(s.address),1)]),e("div",jt,[e("div",Mt,[r[6]||(r[6]=e("div",{class:"content-item__icon"},[e("span",{class:"icon-dollar"},"$")],-1)),e("span",Lt,"時薪 $"+g(s.hourlyWage),1)]),e("div",zt,[r[7]||(r[7]=e("div",{class:"content-item__icon"},[e("span",{class:"icon-people"},"👥")],-1)),e("span",Nt,g(s.hiredCount)+"/"+g(s.totalCount)+"人",1)])]),e("div",Ht,[e("div",Yt,[r[8]||(r[8]=e("div",{class:"content-item__icon"},[e("span",{class:"icon-clock"},"🕐")],-1)),e("span",Ot,"截止: "+g(m.value),1)])]),e("div",Qt,[e("div",Gt,[e("button",{class:"btn btn--view-list",onClick:B},[f(v,{name:"user-o"}),r[9]||(r[9]=N(" 查看詳情 ",-1))]),e("button",{class:"btn btn--view-list",onClick:V},[f(v,{name:"user-o"}),r[10]||(r[10]=N(" 查看名單 ",-1))]),e("button",{class:"btn btn--edit",onClick:w},[f(v,{name:"edit"}),r[11]||(r[11]=N(" 編輯 ",-1))]),e("button",{class:"btn btn--delete",onClick:W},[f(v,{name:"delete"})])])])])}}}),Kt=Q(Jt,[["__scopeId","data-v-3a2f0ec8"]]),Xt={class:"user-shifts"},Zt={class:"content-container"},te={class:"status-filter-buttons"},ee=["onClick"],ae={key:0,class:"count-badge"},oe={class:"shifts-list"},le=O({name:"UserShiftsView",__name:"EmployerShiftsView",setup(s){const{showAlert:q,showConfirm:i,showSuccess:_,showError:p,showDangerConfirm:D}=dt(),m=y([{id:"1",timeRange:"14:00-22:00",position:"發牌員",company:"星光娛樂城",address:"新北市板橋區",hourlyWage:450,hiredCount:5,totalCount:6,deadline:"今日13:00",status:"open",applicationStatus:"applied"},{id:"2",timeRange:"20:00-02:00",position:"百家樂荷官",company:"金沙會館",address:"台北市中山區",hourlyWage:600,hiredCount:12,totalCount:12,deadline:"",status:"full",applicationStatus:"not-hired"},{id:"3",timeRange:"18:00-23:00",position:"桌邊荷官",company:"豪華賭場",address:"台北市信義區",hourlyWage:500,hiredCount:8,totalCount:10,deadline:"今日17:00",status:"open",applicationStatus:null},{id:"4",timeRange:"10:00-18:00",position:"輪盤荷官",company:"皇家賭場",address:"台北市松山區",hourlyWage:550,hiredCount:0,totalCount:4,deadline:"明日09:00",status:"draft",applicationStatus:null},{id:"5",timeRange:"16:00-24:00",position:"21點荷官",company:"鑽石娛樂",address:"台北市大安區",hourlyWage:480,hiredCount:6,totalCount:6,deadline:"已截止",status:"closed",applicationStatus:null}]),b=y("unavailable"),x=y("今天"),$=y("all"),U=y([{label:"全部",value:"all"},{label:"草稿",value:"draft"},{label:"開放",value:"open"},{label:"額滿",value:"full"},{label:"截止",value:"closed"}]),R=y({all:0,draft:0,open:0,full:0,closed:0}),V=()=>{const o=l(a);o==="available"?b.value="available":o==="unavailable"&&(b.value="unavailable"),x.value="今天"},w=y({fields:[{type:"search",key:"search",label:"搜尋",placeholder:"搜尋職位/商家",width:"full"},{type:"select",key:"status",label:"狀態",placeholder:"選擇狀態",width:"half",options:[{text:"全部狀態",value:"all"},{text:"尚有缺額",value:"available"},{text:"暫無缺額",value:"unavailable"}]},{type:"select",key:"position",label:"職位",placeholder:"選擇職位",width:"half",options:[{text:"全部職位",value:"all"},{text:"發牌員",value:"dealer"},{text:"百家樂荷官",value:"baccarat"},{text:"桌邊荷官",value:"table"}]},{type:"date",key:"date",label:"工作日期",placeholder:"選擇日期",width:"half"},{type:"select",key:"sortBy",label:"排序",placeholder:"選擇排序方式",width:"half",options:[{text:"最新到最舊",value:"newest"},{text:"最舊到最新",value:"oldest"},{text:"時薪高到低",value:"wage_high"},{text:"時薪低到高",value:"wage_low"}]}],values:{search:"",status:"all",position:"all",date:"",sortBy:"newest"}}),W=y(""),B=y({"2025-08-31":"unavailable","2025-09-01":"unavailable","2025-09-02":"unavailable","2025-09-03":"unavailable","2025-09-04":"available","2025-09-05":"available","2025-09-06":"available","2025-09-07":"unavailable","2025-09-08":"unavailable","2025-09-09":"available","2025-09-10":"available","2025-09-11":"available","2025-09-12":"today","2025-09-13":"available","2025-09-14":"unavailable","2025-09-15":"available","2025-09-16":"available","2025-09-17":"unavailable","2025-09-18":"available","2025-09-19":"available","2025-09-20":"available","2025-09-21":"unavailable","2025-09-22":"available","2025-09-23":"available","2025-09-24":"available","2025-09-25":"available","2025-09-26":"available","2025-09-27":"available","2025-09-28":"available","2025-09-29":"available","2025-09-30":"unavailable","2025-10-01":"available","2025-10-02":"unavailable","2025-10-03":"available","2025-10-04":"available","2025-10-05":"available"}),T=o=>{const d=o.getFullYear(),n=String(o.getMonth()+1).padStart(2,"0"),I=String(o.getDate()).padStart(2,"0");return`${d}-${n}-${I}`},a=new Date,l=o=>{const d=T(o);return B.value[d]||""},u=()=>{const o={all:m.value.length,draft:0,open:0,full:0,closed:0};m.value.forEach(d=>{switch(d.status){case"draft":o.draft++;break;case"open":o.open++;break;case"full":o.full++;break;case"closed":o.closed++;break}}),R.value=o},c=o=>{$.value=o,console.log("篩選狀態:",o)},S=F(()=>$.value==="all"?m.value:m.value.filter(o=>o.status===$.value)),P=(o,d)=>{w.value={...w.value,values:{...w.value.values,[o]:d}},o==="search"?W.value=d:o==="status"&&(b.value=d),console.log("篩選變更:",o,d)},E=o=>{console.log("搜尋:",o),w.value.values.search=o,W.value=o},k=()=>{console.log("切換篩選選單")},r=()=>{console.log("重置篩選"),w.value.values={search:"",status:"all",position:"all",date:"",sortBy:"newest"},W.value="",b.value="unavailable"};at(()=>{V(),u()});const t=async o=>{if(console.log("應徵班表:",o),await i({title:"應徵確認",message:"確定要應徵這個班表嗎？",confirmButtonText:"確認應徵",cancelButtonText:"取消"}))try{await _("應徵成功！請等待商家審核結果。");const n=m.value.find(I=>I.id===o);n&&(n.applicationStatus="applied")}catch{await p("應徵失敗，請稍後再試。")}},v=async o=>{if(console.log("撤回班表:",o),await D("確定要撤回這個班表的應徵嗎？"))try{await _("已成功撤回應徵。");const n=m.value.find(I=>I.id===o);n&&(n.applicationStatus=null)}catch{await p("撤回失敗，請稍後再試。")}},A=async(o,d)=>{console.log("編輯班別:",o,d);try{await _("班別已成功更新。");const n=m.value.find(I=>I.id===o);n&&(n.position=d.position,n.hourlyWage=d.hourlyWage,n.totalCount=d.requiredStaff)}catch{await p("更新失敗，請稍後再試。")}},X=async o=>{console.log("刪除班別:",o);try{await _("班別已成功刪除。");const d=m.value.findIndex(n=>n.id===o);d>-1&&m.value.splice(d,1)}catch{await p("刪除失敗，請稍後再試。")}},Z=async o=>{console.log("查看詳細資料:",o);const d=m.value.find(n=>n.id===o);d&&await q({title:"班表詳細資料",message:`
			職位：${d.position}
			公司：${d.company}
			地址：${d.address}
			時段：${d.timeRange}
			時薪：$${d.hourlyWage}
			已錄取：${d.hiredCount}/${d.totalCount} 人
			截止時間：${d.deadline||"無"}
		`.trim()})};return(o,d)=>(h(),C("div",Xt,[f(ct,{title:"班別管理","filter-config":w.value,sticky:!0,"show-title":!1,onUpdateFilter:P,onSearch:E,onToggleFilter:k,onReset:r},null,8,["filter-config"]),e("div",Zt,[e("div",te,[(h(!0),C(j,null,H(U.value,n=>(h(),C("button",{key:n.value,onClick:I=>c(n.value),class:L([{active:$.value===n.value,[`status-btn--${n.value}`]:!0},"status-btn"])},[N(g(n.label)+" ",1),R.value[n.value]>0?(h(),C("span",ae," ("+g(R.value[n.value])+") ",1)):Y("",!0)],10,ee))),128))]),e("div",oe,[(h(!0),C(j,null,H(S.value,n=>(h(),z(Kt,{key:n.id,"time-range":n.timeRange,position:n.position,company:n.company,address:n.address,"hourly-wage":n.hourlyWage,"hired-count":n.hiredCount,"total-count":n.totalCount,deadline:n.deadline,status:n.status,"application-status":n.applicationStatus,onApply:t,onWithdraw:v,onDetails:Z,onEdit:A,onDelete:X},null,8,["time-range","position","company","address","hourly-wage","hired-count","total-count","deadline","status","application-status"]))),128))])])]))}}),ge=Q(le,[["__scopeId","data-v-1fe8d8d7"]]);export{ge as default};
