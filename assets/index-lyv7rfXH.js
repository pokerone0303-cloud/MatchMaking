import{d as R,r as n,c as T,a as h,b as l,e as s,I as $,F as q,f as I,w as i,B as N,g,t as k,u as P,s as o,o as w,n as x,_ as S}from"./index-K-9wvg5E.js";import{F as U}from"./index-C6rNtyvH.js";import{F as D}from"./index-B-UnTAgs.js";const E={class:"page-container login-container"},H={class:"login-card"},O={class:"login-header"},j={class:"login-icon"},A={class:"role-tabs"},G=["onClick"],J={class:"help-section"},K=R({name:"LoginView",__name:"index",setup(M){const r=n("user"),u=n(""),p=n(""),c=n(!1),f=n(!1),d=P(),_=[{key:"user",label:"荷官端",icon:"user-o"},{key:"employer",label:"商家端",icon:"shop-o"},{key:"admin",label:"管理端",icon:"shield-o"}],V=T(()=>`登入${_.find(e=>e.key===r.value)?.label}`),C=()=>u.value?p.value?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.value)?!0:(o("請輸入正確的電子信箱格式"),!1):(o("請輸入您的密碼"),!1):(o("請輸入您的電子信箱"),!1),y=async()=>{if(C()){f.value=!0;try{switch(await new Promise(m=>setTimeout(m,1e3)),r.value){case"user":d.push("/u/shifts");break;case"employer":d.push("/e/shifts");break;case"admin":d.push("/a/audit");break;default:d.push("/")}o("登入成功")}catch{o("登入失敗，請稍後再試")}finally{f.value=!1}}},z=()=>{c.value=!c.value},F=()=>{o("跳轉到幫助中心")},B=()=>{o("跳轉到聯絡客服")};return(m,e)=>{const t=$,b=U,v=N,L=D;return w(),h("div",E,[l("div",H,[l("div",O,[l("div",j,[s(t,{name:"user-circle-o",size:"60",color:"#155dfc"})]),e[2]||(e[2]=l("h1",{class:"login-title"},"歡迎登入",-1)),e[3]||(e[3]=l("p",{class:"login-subtitle"},"選擇您的身份類型並登入系統",-1))]),l("div",A,[(w(),h(q,null,I(_,a=>l("div",{key:a.key,class:x(["role-tab",{active:r.value===a.key}]),onClick:Q=>r.value=a.key},[s(t,{name:a.icon,size:"20",class:x(`role-icon role-icon--${a.key}`)},null,8,["name","class"]),l("span",null,k(a.label),1)],10,G)),64))]),s(L,{onSubmit:y,class:"login-form"},{default:i(()=>[s(b,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=a=>u.value=a),name:"email",label:"電子信箱",placeholder:"請輸入您的電子信箱",type:"email",rules:[{required:!0,message:"請輸入電子信箱"}],class:"login-field","label-align":"top"},null,8,["modelValue"]),s(b,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=a=>p.value=a),name:"password",label:"密碼",placeholder:"請輸入您的密碼",type:c.value?"text":"password",rules:[{required:!0,message:"請輸入密碼"}],class:"login-field","label-align":"top"},{"right-icon":i(()=>[s(t,{name:c.value?"eye-o":"closed-eye",onClick:z,class:"password-toggle"},null,8,["name"])]),_:1},8,["modelValue","type"]),s(v,{type:"primary",size:"large",loading:f.value,"loading-text":"登入中...",onClick:y,class:"login-button"},{default:i(()=>[g(k(V.value),1)]),_:1},8,["loading"])]),_:1}),l("div",J,[s(v,{type:"default",size:"small",class:"help-button",onClick:F},{default:i(()=>[s(t,{name:"question-o",size:"16"}),e[4]||(e[4]=g(" 幫助中心 ",-1))]),_:1}),s(v,{type:"default",size:"small",class:"help-button",onClick:B},{default:i(()=>[s(t,{name:"service-o",size:"16"}),e[5]||(e[5]=g(" 聯絡客服 ",-1))]),_:1})])])])}}}),Z=S(K,[["__scopeId","data-v-2102d0c8"]]);export{Z as default};
