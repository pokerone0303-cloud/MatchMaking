import{u as _,F as A,f as d}from"./index-C6rNtyvH.js";import{d as F,a0 as f,k as L,r as N,y as D,e as o,D as i,O,J as T,E as u,aa as B,R as K}from"./index-K-9wvg5E.js";const[j,t,q]=L("search"),J=f({},d,{label:String,shape:u("square"),leftIcon:u("search"),clearable:T,actionText:String,background:String,showAction:Boolean});var M=F({name:j,props:J,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:c,slots:a,attrs:b}){const h=_(),l=N(),k=()=>{a.action||(c("update:modelValue",""),c("cancel"))},I=e=>{e.keyCode===13&&(B(e),c("search",n.modelValue))},r=()=>n.id||`${h}-input`,g=()=>{if(a.label||n.label)return o("label",{class:t("label"),for:r(),"data-allow-mismatch":"attribute"},[a.label?a.label():n.label])},p=()=>{if(n.showAction){const e=n.actionText||q("cancel");return o("div",{class:t("action"),role:"button",tabindex:0,onClick:k},[a.action?a.action():e])}},C=()=>{var e;return(e=l.value)==null?void 0:e.blur()},v=()=>{var e;return(e=l.value)==null?void 0:e.focus()},m=e=>c("blur",e),E=e=>c("focus",e),R=e=>c("clear",e),w=e=>c("clickInput",e),x=e=>c("clickLeftIcon",e),y=e=>c("clickRightIcon",e),S=Object.keys(d),P=()=>{const e=f({},b,i(n,S),{id:r()}),s=V=>c("update:modelValue",V);return o(A,O({ref:l,type:"search",class:t("field",{"with-message":e.errorMessage}),border:!1,onBlur:m,onFocus:E,onClear:R,onKeypress:I,onClickInput:w,onClickLeftIcon:x,onClickRightIcon:y,"onUpdate:modelValue":s},e),i(a,["left-icon","right-icon"]))};return D({focus:v,blur:C}),()=>{var e;return o("div",{class:t({"show-action":n.showAction}),style:{background:n.background}},[(e=a.left)==null?void 0:e.call(a),o("div",{class:t("content",n.shape)},[g(),P()]),p()])}}});const z=K(M);export{z as S};
