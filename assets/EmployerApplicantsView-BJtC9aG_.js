import{A as T}from"./ApplicantCard-WYOE0GYN.js";import{F as j}from"./FilterHeader-ZvBcP9RO.js";import{u as C}from"./useDialog-BisuymnP.js";import{d as D,r as o,g as F,Q as S,l as c,e as V,q as u,v,x as m,H as B,A as H,N as E,C as h,M as N,G as s,_ as R}from"./index-C0EGTbts.js";import"./index-DzpEujkO.js";import"./index-DlkmlvZM.js";import"./index-CKmGNt9r.js";import"./index-D-Jas7mg.js";import"./index-BGRkTP_z.js";const M={class:"employer-applicants"},$={class:"content-container"},q={class:"status-filter-buttons"},z=["onClick"],G={key:0,class:"count-badge"},L={class:"applicants-list"},O=D({name:"EmployerApplicantsView",__name:"EmployerApplicantsView",setup(Q){const{showSuccess:d}=C(),l=o([{id:"1",name:"張小明",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:3,rating:4.8,skills:["百家樂","21點","輪盤"],workAreas:["台北市","新北市"],phone:"0912-345-678",email:"ming@example.com",applicationTime:"2024-09-10 15:30",totalHours:120,joinDate:"2024-01-01",lastActivity:"2024-09-14",status:"pending"},{id:"2",name:"李美華",position:"桌邊荷官",shiftDate:"2024-09-15",startTime:"18:00",endTime:"23:00",experience:5,rating:4.9,skills:["百家樂","德州撲克"],workAreas:["台北市"],phone:"0987-654-321",email:"hua@example.com",applicationTime:"2024-09-10 16:45",totalHours:250,joinDate:"2023-06-01",lastActivity:"2024-09-15",status:"accepted"},{id:"3",name:"王大偉",position:"發牌員",shiftDate:"2024-09-16",startTime:"14:00",endTime:"22:00",experience:2,rating:4.5,skills:["21點","輪盤"],workAreas:["新北市"],phone:"0923-456-789",email:"david@example.com",applicationTime:"2024-09-11 09:20",totalHours:80,joinDate:"2024-03-01",lastActivity:"2024-09-13",status:"rejected"},{id:"4",name:"陳小芳",position:"百家樂荷官",shiftDate:"2024-09-15",startTime:"20:00",endTime:"02:00",experience:4,rating:4.7,skills:["百家樂","輪盤"],workAreas:["台北市","新北市","桃園市"],phone:"0955-123-456",email:"fang@example.com",applicationTime:"2024-09-09 14:15",totalHours:180,joinDate:"2023-09-01",lastActivity:"2024-09-14",status:"pending"}]),i=o("all"),f=o([{label:"全部",value:"all"},{label:"待審",value:"pending"},{label:"已錄取",value:"accepted"},{label:"已拒絕",value:"rejected"}]),r=o({all:0,pending:0,accepted:0,rejected:0}),n=o({fields:[{type:"search",key:"search",label:"搜尋",placeholder:"搜尋職位/商家",width:"full"},{type:"select",key:"status",label:"狀態",placeholder:"選擇狀態",width:"half",options:[{text:"全部狀態",value:"all"},{text:"尚有缺額",value:"available"},{text:"暫無缺額",value:"unavailable"}]},{type:"select",key:"position",label:"職位",placeholder:"選擇職位",width:"half",options:[{text:"全部職位",value:"all"},{text:"發牌員",value:"dealer"},{text:"百家樂荷官",value:"baccarat"},{text:"桌邊荷官",value:"table"}]},{type:"date",key:"date",label:"工作日期",placeholder:"選擇日期",width:"half"},{type:"select",key:"sortBy",label:"排序",placeholder:"選擇排序方式",width:"half",options:[{text:"最新到最舊",value:"newest"},{text:"最舊到最新",value:"oldest"},{text:"時薪高到低",value:"wage_high"},{text:"時薪低到高",value:"wage_low"}]}],values:{search:"",status:"all",position:"all",date:"",sortBy:"newest"}}),p=()=>{const e={all:l.value.length,pending:0,accepted:0,rejected:0};l.value.forEach(a=>{switch(a.status){case"pending":e.pending++;break;case"accepted":e.accepted++;break;case"rejected":e.rejected++;break}}),r.value=e},g=e=>{i.value=e},y=F(()=>i.value==="all"?l.value:l.value.filter(e=>e.status===i.value)),_=(e,a)=>{n.value={...n.value,values:{...n.value.values,[e]:a}}},k=e=>{console.log("搜尋:",e)},x=()=>{console.log("切換篩選選單")},b=()=>{n.value.values={search:"",status:"all"},i.value="all"},w=async e=>{if(e){const a=l.value.find(t=>t.id===e);a&&(a.status="accepted",await d("已錄取應徵者"),p())}},A=async e=>{if(e){const a=l.value.find(t=>t.id===e);a&&(a.status="rejected",await d("已拒絕應徵者"),p())}};return S(()=>{p()}),(e,a)=>(s(),c("div",M,[V(j,{title:"應徵名單","filter-config":n.value,sticky:!0,"show-title":!1,onUpdateFilter:_,onSearch:k,onToggleFilter:x,onReset:b},null,8,["filter-config"]),u("div",$,[u("div",q,[(s(!0),c(v,null,m(f.value,t=>(s(),c("button",{key:t.value,onClick:U=>g(t.value),class:B([{active:i.value===t.value,[`status-btn--${t.value}`]:!0},"status-btn"])},[H(h(t.label)+" ",1),r.value[t.value]>0?(s(),c("span",G," ("+h(r.value[t.value])+") ",1)):E("",!0)],10,z))),128))]),u("div",L,[(s(!0),c(v,null,m(y.value,t=>(s(),N(T,{key:t.id,applicant:t,onAccept:w,onReject:A},null,8,["applicant"]))),128))])])]))}}),te=R(O,[["__scopeId","data-v-9dccd239"]]);export{te as default};
